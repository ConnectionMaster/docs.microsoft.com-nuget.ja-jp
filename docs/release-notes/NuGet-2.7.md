---
title: NuGet 2.7 リリース ノート
description: 既知の問題、バグの修正、追加機能、および Dcr を含む NuGet 2.7 リリース ノートです。
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 97d3e5f0238fd6947a54e5eb3229b89b6746f18c
ms.sourcegitcommit: 1d1406764c6af5fb7801d462e0c4afc9092fa569
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/04/2018
ms.locfileid: "43550966"
---
# <a name="nuget-27-release-notes"></a><span data-ttu-id="dc374-103">NuGet 2.7 リリース ノート</span><span class="sxs-lookup"><span data-stu-id="dc374-103">NuGet 2.7 Release Notes</span></span>

<span data-ttu-id="dc374-104">[WebMatrix のリリース ノートについては、NuGet 2.6.1](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 リリース ノート](../release-notes/nuget-2.7.1.md)</span><span class="sxs-lookup"><span data-stu-id="dc374-104">[NuGet 2.6.1 for WebMatrix Release Notes](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 Release Notes](../release-notes/nuget-2.7.1.md)</span></span>

<span data-ttu-id="dc374-105">NuGet 2.7 は、2013 年 8 月 22 日にリリースされました。</span><span class="sxs-lookup"><span data-stu-id="dc374-105">NuGet 2.7 was released on August 22, 2013.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="dc374-106">謝辞</span><span class="sxs-lookup"><span data-stu-id="dc374-106">Acknowledgements</span></span>

<span data-ttu-id="dc374-107">今回は外部の共同作成者、次の NuGet 2.7 に、多大な貢献に感謝します。</span><span class="sxs-lookup"><span data-stu-id="dc374-107">We would like to thank the following external contributors for their significant contributions to NuGet 2.7:</span></span>

1. <span data-ttu-id="dc374-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span><span class="sxs-lookup"><span data-stu-id="dc374-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span></span>
    - <span data-ttu-id="dc374-109">パッケージと詳細度を一覧表示の詳細とライセンス url を表示します。</span><span class="sxs-lookup"><span data-stu-id="dc374-109">Show License url when listing packages and verbosity is detailed.</span></span>
2. <span data-ttu-id="dc374-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span><span class="sxs-lookup"><span data-stu-id="dc374-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span></span>
    - <span data-ttu-id="dc374-111">[#1956](http://nuget.codeplex.com/workitem/1956) -developmentDependency 属性を追加`packages.config`をランタイム パッケージだけを pack コマンドで使用</span><span class="sxs-lookup"><span data-stu-id="dc374-111">[#1956](http://nuget.codeplex.com/workitem/1956) - Add developmentDependency attribute to `packages.config` and use it in pack command to only include runtime packages</span></span>
3. <span data-ttu-id="dc374-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span><span class="sxs-lookup"><span data-stu-id="dc374-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span></span>
    - <span data-ttu-id="dc374-113">Nuget.exe パック コマンド プロパティ キーが重複しないようにします。</span><span class="sxs-lookup"><span data-stu-id="dc374-113">Avoid duplicate Properties key in nuget.exe pack command.</span></span>
4. <span data-ttu-id="dc374-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span><span class="sxs-lookup"><span data-stu-id="dc374-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span></span>
    - <span data-ttu-id="dc374-115">[#2610](http://nuget.codeplex.com/workitem/2610) -200 をマシン キャッシュのサイズを大ききます。</span><span class="sxs-lookup"><span data-stu-id="dc374-115">[#2610](http://nuget.codeplex.com/workitem/2610) - Increase machine cache size to 200.</span></span>
5. <span data-ttu-id="dc374-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span><span class="sxs-lookup"><span data-stu-id="dc374-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span></span>
    - <span data-ttu-id="dc374-117">[#3217](http://nuget.codeplex.com/workitem/3217) -間違った タブで更新プログラムを表示する修正 NuGet ダイアログ</span><span class="sxs-lookup"><span data-stu-id="dc374-117">[#3217](http://nuget.codeplex.com/workitem/3217) - Fix NuGet dialog showing updates in the wrong tab</span></span>
    - <span data-ttu-id="dc374-118">修正 Project.TargetFramework をプロジェクト管理者では null にすることができます。</span><span class="sxs-lookup"><span data-stu-id="dc374-118">Fix Project.TargetFramework can be null in ProjectManager</span></span>
    - <span data-ttu-id="dc374-119">[#3248](http://nuget.codeplex.com/workitem/3248) -修正 SharedPackageRepository FindPackage/FindPackagesById は存在しない packageId の失敗</span><span class="sxs-lookup"><span data-stu-id="dc374-119">[#3248](http://nuget.codeplex.com/workitem/3248) - Fix SharedPackageRepository FindPackage/FindPackagesById will fail on non-existent packageId</span></span>
6. <span data-ttu-id="dc374-120">[Kevin ボイル](http://www.codeplex.com/site/users/view/KevinBoyleRG)([@kevfromireland](https://twitter.com/kevfromireland))</span><span class="sxs-lookup"><span data-stu-id="dc374-120">[Kevin Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) ([@kevfromireland](https://twitter.com/kevfromireland))</span></span>
    - <span data-ttu-id="dc374-121">[#3234](http://nuget.codeplex.com/workitem/3234) -Nomad プロジェクトのサポートを有効にします。</span><span class="sxs-lookup"><span data-stu-id="dc374-121">[#3234](http://nuget.codeplex.com/workitem/3234) - Enable support for Nomad project</span></span>
7. <span data-ttu-id="dc374-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span><span class="sxs-lookup"><span data-stu-id="dc374-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span></span>
    - <span data-ttu-id="dc374-123">[#3252](http://nuget.codeplex.com/workitem/3252) -ファイルが存在しない場合、終了、修正プログラムのプッシュ コマンドが失敗コード 0。</span><span class="sxs-lookup"><span data-stu-id="dc374-123">[#3252](http://nuget.codeplex.com/workitem/3252) - Fix push command fails with exit code 0 when file doesn't exist.</span></span>
8. [<span data-ttu-id="dc374-124">Martin Veselý</span><span class="sxs-lookup"><span data-stu-id="dc374-124">Martin Veselý</span></span>](http://www.codeplex.com/site/users/view/veselkamartin)
    - <span data-ttu-id="dc374-125">[#3226](http://nuget.codeplex.com/workitem/3226) -追加 BindingRedirect コマンド、プロジェクトは、データベース プロジェクトを参照するときのバグを修正します。</span><span class="sxs-lookup"><span data-stu-id="dc374-125">[#3226](http://nuget.codeplex.com/workitem/3226) - Fix bug with Add-BindingRedirect command when a project references a database project.</span></span>
9. <span data-ttu-id="dc374-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span><span class="sxs-lookup"><span data-stu-id="dc374-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span></span>
    - <span data-ttu-id="dc374-127">[#2891](http://nuget.codeplex.com/workitem/2891) -nuget.pack 'exclude' 属性でワイルドカードを正しく解析のバグを修正します。</span><span class="sxs-lookup"><span data-stu-id="dc374-127">[#2891](http://nuget.codeplex.com/workitem/2891) - Fix bug of nuget.pack parsing wildcard in the 'exclude' attribute incorrectly.</span></span>
10. <span data-ttu-id="dc374-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span><span class="sxs-lookup"><span data-stu-id="dc374-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span></span>
     - <span data-ttu-id="dc374-129">[#3307](http://nuget.codeplex.com/workitem/3307) -バグの修正プログラム`NuGet.targets`パッケージの復元も nuget.exe に $ が渡されません。</span><span class="sxs-lookup"><span data-stu-id="dc374-129">[#3307](http://nuget.codeplex.com/workitem/3307) - Fix bug `NuGet.targets` does not pass $(Platform) to nuget.exe when restoring packages.</span></span>
11. [<span data-ttu-id="dc374-130">Brian わたし</span><span class="sxs-lookup"><span data-stu-id="dc374-130">Brian Federici</span></span>](http://www.codeplex.com/site/users/view/benerdin)
     - <span data-ttu-id="dc374-131">[#3294](http://nuget.codeplex.com/workitem/3294) -で最終的に「既に項目が存在します」の例外の原因とする、さまざまな大文字と小文字が同じ名前のファイルを追加することを許可する nuget.exe パッケージ コマンドのバグを修正します。</span><span class="sxs-lookup"><span data-stu-id="dc374-131">[#3294](http://nuget.codeplex.com/workitem/3294) - Fix bug in nuget.exe package command which would allow adding files with the same name but different casing, eventually causing "Item already exists" exception.</span></span>
12. <span data-ttu-id="dc374-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span><span class="sxs-lookup"><span data-stu-id="dc374-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span></span>
     - <span data-ttu-id="dc374-133">[#2990](http://nuget.codeplex.com/workitem/2990) -NetPortableProfile クラスへのバージョンの追加プロパティ。</span><span class="sxs-lookup"><span data-stu-id="dc374-133">[#2990](http://nuget.codeplex.com/workitem/2990) - Add Version property to NetPortableProfile class.</span></span>
13. [<span data-ttu-id="dc374-134">David Simner</span><span class="sxs-lookup"><span data-stu-id="dc374-134">David Simner</span></span>](https://www.codeplex.com/site/users/view/DavidSimner)
     - <span data-ttu-id="dc374-135">[#3460](https://nuget.codeplex.com/workitem/3460) -場合 NullReferenceException バグは修正 requireApiKey、ヘッダーは、true を = X-APIKEY NUGET が存在しません。</span><span class="sxs-lookup"><span data-stu-id="dc374-135">[#3460](https://nuget.codeplex.com/workitem/3460) - Fix bug NullReferenceException if requireApiKey = true, but the header X-NUGET-APIKEY isn't present</span></span>
14. <span data-ttu-id="dc374-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span><span class="sxs-lookup"><span data-stu-id="dc374-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span></span>
     - <span data-ttu-id="dc374-137">[#3278](https://nuget.codeplex.com/workitem/3278) -修正 NuGet.Build ターゲットは、MonoDevelop で正しく動作するようにファイル</span><span class="sxs-lookup"><span data-stu-id="dc374-137">[#3278](https://nuget.codeplex.com/workitem/3278) - Fixes NuGet.Build targets file to so that it works correctly on MonoDevelop</span></span>
15. <span data-ttu-id="dc374-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span><span class="sxs-lookup"><span data-stu-id="dc374-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span></span>
     - <span data-ttu-id="dc374-139">並列処理を増やすことで復元コマンドのパフォーマンスを向上させる</span><span class="sxs-lookup"><span data-stu-id="dc374-139">Improve Restore command performance by increasing parallelization</span></span>

## <a name="notable-features-in-the-release"></a><span data-ttu-id="dc374-140">リリースで注目すべき機能</span><span class="sxs-lookup"><span data-stu-id="dc374-140">Notable features in the release</span></span>

### <a name="package-restore-by-default-with-implicit-consent"></a><span data-ttu-id="dc374-141">(暗黙的な同意) では既定でパッケージの復元</span><span class="sxs-lookup"><span data-stu-id="dc374-141">Package Restore by Default (with implicit consent)</span></span>

<span data-ttu-id="dc374-142">NuGet 2.7 がパッケージの復元の新しいアプローチを紹介し、主要な課題の解決にも: パッケージの復元の同意が既定で有効と今すぐいます!</span><span class="sxs-lookup"><span data-stu-id="dc374-142">NuGet 2.7 introduces a new approach to package restore, and also overcomes a major hurdle: Package restore consent is now on by default!</span></span> <span data-ttu-id="dc374-143">新しいアプローチと、暗黙的な同意の組み合わせは、パッケージの復元シナリオと大幅に簡略化します。</span><span class="sxs-lookup"><span data-stu-id="dc374-143">The combination of the new approach and the implicit consent will drastically simplify package restore scenarios.</span></span>

#### <a name="implicit-consent"></a><span data-ttu-id="dc374-144">暗黙的な同意</span><span class="sxs-lookup"><span data-stu-id="dc374-144">Implicit Consent</span></span>

<span data-ttu-id="dc374-145">NuGet のバージョン 2.0、2.1、2.2、2.5、2.6 では、中に見つからないパッケージのダウンロードを NuGet を明示的に許可するために必要なユーザーを作成します。</span><span class="sxs-lookup"><span data-stu-id="dc374-145">With NuGet versions 2.0, 2.1, 2.2, 2.5, and 2.6, users needed to explicitly allow NuGet to download missing packages during build.</span></span> <span data-ttu-id="dc374-146">この同意があるない場合は、明示的に指定されて、パッケージの復元を有効にしたソリューションは、ユーザーが同意するまでのビルドに失敗し、します。</span><span class="sxs-lookup"><span data-stu-id="dc374-146">If this consent had not been explicitly given, then solutions that had enabled package restore would fail to build until the user had granted consent.</span></span>

<span data-ttu-id="dc374-147">NuGet 2.7 以降では、パッケージ復元の同意、既定でオンにユーザーを明示的に許可するときに*オプトアウト*の Visual Studio で NuGet の設定で、チェック ボックスを使用して、必要な場合は、パッケージの復元。</span><span class="sxs-lookup"><span data-stu-id="dc374-147">Starting with NuGet 2.7, package restore consent is ON by default while allowing users to explicitly *opt out* of package restore if desired, using the checkbox in NuGet's settings in Visual Studio.</span></span> <span data-ttu-id="dc374-148">暗黙的な同意のこの変更には、次の環境での NuGet に影響します。</span><span class="sxs-lookup"><span data-stu-id="dc374-148">This change for implicit consent affects NuGet in the following environments:</span></span>

* <span data-ttu-id="dc374-149">Visual Studio 2013 Preview</span><span class="sxs-lookup"><span data-stu-id="dc374-149">Visual Studio 2013 Preview</span></span>
* <span data-ttu-id="dc374-150">Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="dc374-150">Visual Studio 2012</span></span>
* <span data-ttu-id="dc374-151">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="dc374-151">Visual Studio 2010</span></span>
* <span data-ttu-id="dc374-152">nuget.exe コマンド ライン ユーティリティ</span><span class="sxs-lookup"><span data-stu-id="dc374-152">nuget.exe Command-Line Utility</span></span>

#### <a name="automatic-package-restore-in-visual-studio"></a><span data-ttu-id="dc374-153">Visual Studio で自動パッケージの復元</span><span class="sxs-lookup"><span data-stu-id="dc374-153">Automatic Package Restore in Visual Studio</span></span>

<span data-ttu-id="dc374-154">NuGet 2.7 以降では、NuGet は自動的に見つからないパッケージのダウンロード Visual Studio で、ビルド中にソリューションのパッケージの復元が明示的に有効にしていないされている場合でもです。</span><span class="sxs-lookup"><span data-stu-id="dc374-154">Starting with NuGet 2.7, NuGet will automatically download missing packages during build in Visual Studio, even if package restore hasn't been explicitly enabled for the solution.</span></span> <span data-ttu-id="dc374-155">この自動パッケージの復元は Visual Studio では発生、MSBuild が呼び出される前に、プロジェクトまたはソリューションをビルドするときにします。</span><span class="sxs-lookup"><span data-stu-id="dc374-155">This Automatic Package Restore happens in Visual Studio when you build a project or the solution, but before MSBuild is invoked.</span></span> <span data-ttu-id="dc374-156">これには、いくつかの重要な利点が得られます。</span><span class="sxs-lookup"><span data-stu-id="dc374-156">This yields a few significant benefits:</span></span>

1. <span data-ttu-id="dc374-157">それ以上でソリューション「を有効にする NuGet パッケージの復元」ジェスチャを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc374-157">No further need to use the "Enable NuGet Package Restore" gesture on your solution</span></span>
1. <span data-ttu-id="dc374-158">プロジェクトを変更する必要はありませんし、NuGet はパッケージの復元が有効になっていることを確認するようにプロジェクトに変更を加えるしません</span><span class="sxs-lookup"><span data-stu-id="dc374-158">Projects don't need to be modified, and NuGet won't make changes to your project to ensure package restore is enabled</span></span>
1. <span data-ttu-id="dc374-159">プロパティ/ターゲット ファイルのインポートの MSBuild が含まれているものも含め、すべての NuGet パッケージが復元されます*する前に*MSBuild が呼び出される、ビルド時にこれらのプロパティ/ターゲットが正しく認識されたことを確認</span><span class="sxs-lookup"><span data-stu-id="dc374-159">All NuGet packages, including those that included MSBuild imports for props/targets files, will be restored *before* MSBuild is invoked, ensuring those props/targets are properly recognized during the build</span></span>

<span data-ttu-id="dc374-160">Visual Studio でパッケージの自動復元を使用して、するためにのみ (in) アクションのいずれかを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc374-160">In order to use Automatic Package Restore in Visual Studio, you only need to take one (in)action:</span></span>

1. <span data-ttu-id="dc374-161">チェックインしないと、`packages`フォルダー</span><span class="sxs-lookup"><span data-stu-id="dc374-161">Don't check in your `packages` folder</span></span>

<span data-ttu-id="dc374-162">省略するいくつかの方法がある、`packages`ソース管理からフォルダー。</span><span class="sxs-lookup"><span data-stu-id="dc374-162">There are several ways to omit your `packages` folder from source control.</span></span> <span data-ttu-id="dc374-163">詳細については、次を参照してください。、[パッケージとソース管理](../consume-packages/packages-and-source-control.md)トピック。</span><span class="sxs-lookup"><span data-stu-id="dc374-163">For more information, see the [Packages and Source Control](../consume-packages/packages-and-source-control.md) topic.</span></span>

<span data-ttu-id="dc374-164">すべてのユーザーが暗黙的には同意のパッケージの復元を自動選択されるため、簡単にオプトアウトできます Visual Studio のパッケージ マネージャー設定を使用します。</span><span class="sxs-lookup"><span data-stu-id="dc374-164">While all users are implicitly opted into Automatic Package Restore consent, you can easily opt out through the Package Manager settings in Visual Studio.</span></span>

![パッケージ マネージャーの設定](./media/NuGet-2.7/package-manager-settings.png)

#### <a name="simplified-package-restore-from-the-command-line"></a><span data-ttu-id="dc374-166">コマンドラインからの簡略化されたパッケージの復元</span><span class="sxs-lookup"><span data-stu-id="dc374-166">Simplified Package Restore from the Command-Line</span></span>

<span data-ttu-id="dc374-167">NuGet 2.7 には、nuget.exe の新機能が導入されています。 `nuget.exe restore`</span><span class="sxs-lookup"><span data-stu-id="dc374-167">NuGet 2.7 introduces a new feature for nuget.exe: `nuget.exe restore`</span></span>

<span data-ttu-id="dc374-168">この新しい復元コマンドでは、ソリューション ファイルまたはフォルダーを引数としてそのまま使用して 1 つのコマンドを含むソリューションのすべてのパッケージを簡単に復元できます。</span><span class="sxs-lookup"><span data-stu-id="dc374-168">This new Restore command allows you to easily restore all packages for a solution with a single command, by accepting a solution file or folder as an argument.</span></span> <span data-ttu-id="dc374-169">さらに、現在のフォルダーに 1 つのソリューションのみがある場合にその引数が含まれます。</span><span class="sxs-lookup"><span data-stu-id="dc374-169">Furthermore, that argument is implied when there's only a single solution in the current folder.</span></span> <span data-ttu-id="dc374-170">つまり、すべての次のように 1 つのソリューション ファイル (MySolution.sln) が含まれているフォルダーから。</span><span class="sxs-lookup"><span data-stu-id="dc374-170">That means the following all work from a folder that contains a single solution file (MySolution.sln):</span></span>

1. <span data-ttu-id="dc374-171">nuget.exe restore MySolution.sln</span><span class="sxs-lookup"><span data-stu-id="dc374-171">nuget.exe restore MySolution.sln</span></span>
1. <span data-ttu-id="dc374-172">nuget.exe restore .</span><span class="sxs-lookup"><span data-stu-id="dc374-172">nuget.exe restore .</span></span>
1. <span data-ttu-id="dc374-173">nuget.exe restore</span><span class="sxs-lookup"><span data-stu-id="dc374-173">nuget.exe restore</span></span>

<span data-ttu-id="dc374-174">Restore コマンドはソリューション ファイルを開くし、ソリューション内のすべてのプロジェクトを検索します。</span><span class="sxs-lookup"><span data-stu-id="dc374-174">The Restore command will open the solution file and find all projects within the solution.</span></span> <span data-ttu-id="dc374-175">そこからは検索、`packages.config`プロジェクトと検出されたすべてのパッケージ復元の各ファイル。</span><span class="sxs-lookup"><span data-stu-id="dc374-175">From there, it will find the `packages.config` files for each of the projects and restore all of the packages found.</span></span> <span data-ttu-id="dc374-176">あるソリューション レベル パッケージが復元されます、`.nuget\packages.config`ファイル。</span><span class="sxs-lookup"><span data-stu-id="dc374-176">It also restores solution-level packages found in the `.nuget\packages.config` file.</span></span> <span data-ttu-id="dc374-177">新しい復元コマンドの詳細についてで参照できる、[コマンド ライン リファレンス](../tools/cli-ref-restore.md)します。</span><span class="sxs-lookup"><span data-stu-id="dc374-177">More information about the new Restore command can be found in the [Command-Line Reference](../tools/cli-ref-restore.md).</span></span>

#### <a name="the-new-package-restore-workflow"></a><span data-ttu-id="dc374-178">新しいパッケージの復元ワークフロー</span><span class="sxs-lookup"><span data-stu-id="dc374-178">The New Package Restore Workflow</span></span>

<span data-ttu-id="dc374-179">新しいワークフローを説明しながらはこれらの変更をパッケージの復元、嬉しいです。</span><span class="sxs-lookup"><span data-stu-id="dc374-179">We are excited about these changes to Package Restore, as it introduces a new workflow.</span></span> <span data-ttu-id="dc374-180">ソース管理からパッケージを省略する場合を単にコミットしないで、`packages`フォルダー。</span><span class="sxs-lookup"><span data-stu-id="dc374-180">If you want to omit your packages from source control you simply don't commit the `packages` folder.</span></span> <span data-ttu-id="dc374-181">開き、ソリューションをビルドする visual Studio のユーザーに自動的に復元されたパッケージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-181">Visual Studio users who open and build the solution will see the packages automatically restored.</span></span> <span data-ttu-id="dc374-182">コマンド ライン ビルドを呼び出すだけ`nuget.exe restore`を呼び出す前に`msbuild`します。</span><span class="sxs-lookup"><span data-stu-id="dc374-182">For command-line builds, simply invoke `nuget.exe restore` before invoking `msbuild`.</span></span> <span data-ttu-id="dc374-183">ソリューションでは、上で「を有効にする NuGet パッケージの復元」ジェスチャを使用する必要がなくなったと、不要になった変更、ビルドするプロジェクトを変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="dc374-183">You no longer need to remember to use the "Enable NuGet Package Restore" gesture on your solution, and we'll no longer need to modify your projects to alter the build.</span></span> <span data-ttu-id="dc374-184">特にインポートの NuGet の最新の機能を使用して追加の場合、MSBuild インポートを含むパッケージに対して大幅に改善されたエクスペリエンスもが生成されます。 と[プロパティ/ターゲット ファイルを自動的にインポート](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files)\build フォルダーから。</span><span class="sxs-lookup"><span data-stu-id="dc374-184">And this also yields a much improved experience for packages that include MSBuild imports, especially for imports added through NuGet's recent feature for [automatically importing props/targets files](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files) from the \build folder.</span></span>

<span data-ttu-id="dc374-185">自分たちが行った作業、に加えて取り組んでいるところもいくつかの重要なパートナーをこの新しいアプローチを仕上げるとします。具体的なタイムラインこれらのいずれかの必要私たちはまだありませんが、各パートナーは新しいアプローチの詳細については同じぐらいワクワクします。</span><span class="sxs-lookup"><span data-stu-id="dc374-185">In addition to the work we've done ourselves, we're also working with some important partners to round this new approach out. We don't have concrete timelines for any of these yet, but each partner is as excited as we are about the new approach.</span></span>

* <span data-ttu-id="dc374-186">呼び出しを統合する作業が team Foundation Service -`nuget.exe restore`を既定のシナリオを構築します。</span><span class="sxs-lookup"><span data-stu-id="dc374-186">Team Foundation Service - They are working to integrate the call to `nuget.exe restore` into the default build scenarios.</span></span>
* <span data-ttu-id="dc374-187">作業をし、プロジェクトを Azure にプッシュできるように Windows Azure の Web サイト - `nuget.exe restore` web サイトを構築する前に呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-187">Windows Azure Web Sites - They are working to allow you to push your project to Azure and have `nuget.exe restore` called before your web site is built.</span></span>
* <span data-ttu-id="dc374-188">TeamCity の TeamCity の NuGet インストーラーのプラグインを更新して 8.x</span><span class="sxs-lookup"><span data-stu-id="dc374-188">TeamCity - They are updating their NuGet Installer plugin for TeamCity 8.x</span></span>
* <span data-ttu-id="dc374-189">AppHarbor にリポジトリをプッシュしを許可する操作、AppHarbor -`nuget.exe restore`ソリューションがビルド前に呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-189">AppHarbor - They are working to allow you to push your repo to AppHarbor and have `nuget.exe restore` called before your solution is build.</span></span>

<span data-ttu-id="dc374-190">各上記のパートナーと nuget.exe の独自のコピーを使用して、ソリューションに nuget.exe を実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="dc374-190">With each of the partners above, they would use their own copy of nuget.exe and you would not need to carry nuget.exe in your solution.</span></span>

#### <a name="known-issues"></a><span data-ttu-id="dc374-191">既知の問題</span><span class="sxs-lookup"><span data-stu-id="dc374-191">Known Issues</span></span>

<span data-ttu-id="dc374-192">初期 2.7 リリースでは、nuget.exe の復元に関する 2 つの既知の問題がありましたが、9/6/2013 の更新プログラムで修正されたが、 [NuGet.CommandLine パッケージ](http://www.nuget.org/packages/NuGet.CommandLine/)します。</span><span class="sxs-lookup"><span data-stu-id="dc374-192">There were two known issues with nuget.exe restore with the initial 2.7 release, but they were fixed on 9/6/2013 with an update to the [NuGet.CommandLine package](http://www.nuget.org/packages/NuGet.CommandLine/).</span></span>  <span data-ttu-id="dc374-193">この更新はできるも、 [NuGet 2.7 ダウンロード ページ](https://nuget.codeplex.com/releases/view/107605)CodePlex でします。</span><span class="sxs-lookup"><span data-stu-id="dc374-193">This update is also available on the [NuGet 2.7 download page](https://nuget.codeplex.com/releases/view/107605) on CodePlex.</span></span>  <span data-ttu-id="dc374-194">実行している`nuget.exe update -self`最新リリースに更新されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-194">Running `nuget.exe update -self` will update to the latest release.</span></span>

<span data-ttu-id="dc374-195">固定されました。</span><span class="sxs-lookup"><span data-stu-id="dc374-195">The fixed were:</span></span>

1. [<span data-ttu-id="dc374-196">SLN ファイルを使用する場合、Mono で新しいパッケージの復元が機能しません</span><span class="sxs-lookup"><span data-stu-id="dc374-196">New package restore doesn't work on Mono when using SLN file</span></span>](https://nuget.codeplex.com/workitem/3596)
1. [<span data-ttu-id="dc374-197">Wix プロジェクトで新しいパッケージの復元は機能しません</span><span class="sxs-lookup"><span data-stu-id="dc374-197">New package restore doesn't work with Wix projects</span></span>](https://nuget.codeplex.com/workitem/3598)

<span data-ttu-id="dc374-198">新しいパッケージの復元ワークフローに関する既知の問題という[自動パッケージの復元は、ソリューション フォルダーの下のプロジェクトは適していません](https://nuget.codeplex.com/workitem/3625)します。</span><span class="sxs-lookup"><span data-stu-id="dc374-198">There is also a known issue with the new package restore workflow whereby [Automatic Package Restore does not work for projects under a solution folder](https://nuget.codeplex.com/workitem/3625).</span></span> <span data-ttu-id="dc374-199">この問題は、NuGet 2.7.1 で修正されました。</span><span class="sxs-lookup"><span data-stu-id="dc374-199">This issue was fixed in NuGet 2.7.1.</span></span>

### <a name="project-retargeting-and-upgrade-build-errorswarnings"></a><span data-ttu-id="dc374-200">プロジェクトの再ターゲットおよびアップグレード ビルド エラー/警告</span><span class="sxs-lookup"><span data-stu-id="dc374-200">Project Retargeting and Upgrade Build Errors/Warnings</span></span>

<span data-ttu-id="dc374-201">何度も後に再ターゲットまたはプロジェクトをアップグレード、見つかったら NuGet パッケージの一部が正しく機能していないこと。</span><span class="sxs-lookup"><span data-stu-id="dc374-201">Many times after retargeting or upgrading your project, you find that some NuGet packages aren't functioning properly.</span></span> <span data-ttu-id="dc374-202">残念ながら、これを示す値はありませんがしないガイダンスの対処方法。</span><span class="sxs-lookup"><span data-stu-id="dc374-202">Unfortunately, there is no indication of this and then there's no guidance on how to address it.</span></span> <span data-ttu-id="dc374-203">NuGet 2.7、Visual Studio の一部のイベントを使用して今すぐ再ターゲットまたは、インストールされている NuGet パッケージに影響を与える方法でプロジェクトをアップグレードしたときに認識。</span><span class="sxs-lookup"><span data-stu-id="dc374-203">With NuGet 2.7, we now use some Visual Studio events to recognize when you've retargeted or upgraded your project in a way that affects your installed NuGet packages.</span></span>

<span data-ttu-id="dc374-204">再ターゲットまたはアップグレードによって影響を受けた、パッケージのいずれかを検出することを知らせる直ちにビルド エラーを生成します。</span><span class="sxs-lookup"><span data-stu-id="dc374-204">If we detect that any of your packages were affected by the retargeting or upgrade, we'll produce immediate build errors to let you know.</span></span> <span data-ttu-id="dc374-205">だけでなく、直ちにビルド エラーも維持、`requireReinstallation="true"`フラグ、`packages.config`ファイルの Visual Studio でのビルド、再ターゲットによって影響を受けると後に続く各されたすべてのパッケージをそれらのパッケージのビルド警告が発生させます。</span><span class="sxs-lookup"><span data-stu-id="dc374-205">In addition to the immediate build error, we also persist a `requireReinstallation="true"` flag in your `packages.config` file for all packages that were affected by the retargeting, and each subsequent build in Visual Studio will raise build warnings for those packages.</span></span>

<span data-ttu-id="dc374-206">NuGet は、影響を受けるパッケージを再インストールする自動アクションを実行できません、示唆されていることと思い、警告に従ってヘルプ パッケージを再インストールする必要がある場合を検出します。</span><span class="sxs-lookup"><span data-stu-id="dc374-206">Although NuGet cannot take automatic action to reinstall affected packages, we hope this indication and warning will guide help you discover when you need to reinstall packages.</span></span> <span data-ttu-id="dc374-207">取り組んでいますも[ガイダンスのドキュメントを再インストールをパッケージ化](../consume-packages/reinstalling-and-updating-packages.md)これらのエラー メッセージが送信します。</span><span class="sxs-lookup"><span data-stu-id="dc374-207">We are also working on [package reinstallation guidance documentation](../consume-packages/reinstalling-and-updating-packages.md) that these error messages direct you to.</span></span>

### <a name="nuget-configuration-defaults"></a><span data-ttu-id="dc374-208">NuGet の既定の設定</span><span class="sxs-lookup"><span data-stu-id="dc374-208">NuGet Configuration Defaults</span></span>

<span data-ttu-id="dc374-209">多くの企業では、内部的には、NuGet を使用しているが、nuget.org ではなく、内部のパッケージ ソースを使用するには、その開発者ガイド ハード時間があります。NuGet 2.7 には、コンピューター全体の既定値を指定する構成の既定値の機能が導入されています。</span><span class="sxs-lookup"><span data-stu-id="dc374-209">Many companies are using NuGet internally, but have had a hard time guiding their developers to use internal package sources instead of nuget.org. NuGet 2.7 introduces a Configuration Defaults feature that allows machine-wide defaults to be specified for:</span></span>

1. <span data-ttu-id="dc374-210">有効なパッケージ ソース</span><span class="sxs-lookup"><span data-stu-id="dc374-210">Enabled package sources</span></span>
1. <span data-ttu-id="dc374-211">無効になっているパッケージ ソースが登録します。</span><span class="sxs-lookup"><span data-stu-id="dc374-211">Registered, but disabled package sources</span></span>
1. <span data-ttu-id="dc374-212">既定の nuget.exe プッシュ ソース</span><span class="sxs-lookup"><span data-stu-id="dc374-212">The default nuget.exe push source</span></span>

<span data-ttu-id="dc374-213">これらの各内にあるファイルで構成できます`%ProgramData%\NuGet\NuGetDefaults.Config`します。</span><span class="sxs-lookup"><span data-stu-id="dc374-213">Each of these can now be configured within a file located at `%ProgramData%\NuGet\NuGetDefaults.Config`.</span></span> <span data-ttu-id="dc374-214">この構成ファイル、パッケージ ソースを指定するかどうかは、既定の nuget.org パッケージ ソースが自動的に登録されずで使用されている`NuGetDefaults.Config`は代わりに登録されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-214">If this config file specifies package sources, then the default nuget.org package source will not be registered automatically, and the ones in `NuGetDefaults.Config` will be registered instead.</span></span>

<span data-ttu-id="dc374-215">この機能を使用するため必要ありませんが、デプロイする企業が予定`NuGetDefaults.Config`ファイルのグループ ポリシーを使用します。</span><span class="sxs-lookup"><span data-stu-id="dc374-215">While not required to use this feature, we expect companies to deploy `NuGetDefaults.Config` files using Group Policy.</span></span>

<span data-ttu-id="dc374-216">*この機能が開発者の NuGet の設定から削除するパッケージ ソース発生しないことに注意してください。つまり、開発者が既に NuGet を使用し、したがって nuget.org パッケージ ソースを持つかどうか、登録されていることも削除されませんの作成後、`NuGetDefaults.Config`ファイル。*</span><span class="sxs-lookup"><span data-stu-id="dc374-216">*Note that this feature will never cause a package source to be removed from a developer's NuGet settings. That means if the developer has already used NuGet and therefore has the nuget.org package source registered, it won't be removed after the creation of a `NuGetDefaults.Config` file.*</span></span>

<span data-ttu-id="dc374-217">参照してください[NuGet 構成は既定で](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file)詳細については、この機能はします。</span><span class="sxs-lookup"><span data-stu-id="dc374-217">See [NuGet Configuration Defaults](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file) for more information about this feature.</span></span>

### <a name="renaming-the-default-package-source"></a><span data-ttu-id="dc374-218">既定のパッケージ ソースの名前を変更します。</span><span class="sxs-lookup"><span data-stu-id="dc374-218">Renaming the Default Package Source</span></span>

<span data-ttu-id="dc374-219">NuGet は、nuget.org を指す「NuGet のオフィシャル パッケージ ソース」と呼ばれる既定のパッケージ ソースを登録して常に。その名前の詳細が、ポイントが実際にも指定しませんでした。</span><span class="sxs-lookup"><span data-stu-id="dc374-219">NuGet has always registered a default package source called "NuGet official package source" that points to nuget.org. That name was verbose and it also didn't specify where it was actually pointing.</span></span> <span data-ttu-id="dc374-220">これら 2 つの問題に対処するには、を単に"nuget.org"に、UI には、このパッケージ ソースに変更しました。</span><span class="sxs-lookup"><span data-stu-id="dc374-220">To address those two issues, we've renamed this package source to simply "nuget.org" in the UI.</span></span> <span data-ttu-id="dc374-221">パッケージ ソースの URL も変更を"www."を含める</span><span class="sxs-lookup"><span data-stu-id="dc374-221">The URL for the package source was also changed to include the "www."</span></span> <span data-ttu-id="dc374-222">プレフィックスを含むバンドル ID です。</span><span class="sxs-lookup"><span data-stu-id="dc374-222">prefix.</span></span> <span data-ttu-id="dc374-223">NuGet 2.7 を使用した後、既存「NuGet オフィシャル パッケージ ソース」が自動的に更新を名前として"nuget.org"と"<https://www.nuget.org/api/v2/>"としてその URL。</span><span class="sxs-lookup"><span data-stu-id="dc374-223">After using NuGet 2.7, your existing "NuGet official package source" will automatically be updated to "nuget.org" as its name and "<https://www.nuget.org/api/v2/>" as its URL.</span></span>

### <a name="performance-improvements"></a><span data-ttu-id="dc374-224">パフォーマンスの向上</span><span class="sxs-lookup"><span data-stu-id="dc374-224">Performance Improvements</span></span>

<span data-ttu-id="dc374-225">メモリ フット プリントが小さく、少ないディスク使用量とパッケージのインストールを高速化が得られます 2.7 でなんらかのパフォーマンス改善を行いました。</span><span class="sxs-lookup"><span data-stu-id="dc374-225">We made some performance improvement in 2.7 which will yield smaller memory footprint, less disk usage and faster package installation.</span></span> <span data-ttu-id="dc374-226">全体的なペイロードが減少する OData ベースのフィードをよりスマートなクエリもなりました。</span><span class="sxs-lookup"><span data-stu-id="dc374-226">We also made smarter queries to OData-based feeds which will reduce the overall payload.</span></span>

### <a name="new-extensibility-apis"></a><span data-ttu-id="dc374-227">新しい拡張性 Api</span><span class="sxs-lookup"><span data-stu-id="dc374-227">New Extensibility APIs</span></span>

<span data-ttu-id="dc374-228">一部の新しい Api は、以前のリリースで不足している機能のギャップを埋める、機能拡張サービスを追加しました。</span><span class="sxs-lookup"><span data-stu-id="dc374-228">We added some new APIs to our extensibility services to fill the gap of missing functionalities in previous releases.</span></span>

#### <a name="ivspackageinstallerservices"></a><span data-ttu-id="dc374-229">IVsPackageInstallerServices</span><span class="sxs-lookup"><span data-stu-id="dc374-229">IVsPackageInstallerServices</span></span>

    ```cs
    // Checks if a NuGet package with the specified Id and version is installed in the specified project.
    bool IsPackageInstalledEx(Project project, string id, string versionString);

    // Get the list of NuGet packages installed in the specified project.
    IEnumerable<IVsPackageMetadata> GetInstalledPackages(Project project);
    ```

#### <a name="ivspackageinstaller"></a><span data-ttu-id="dc374-230">IVsPackageInstaller</span><span class="sxs-lookup"><span data-stu-id="dc374-230">IVsPackageInstaller</span></span>

    ```cs
    // Installs one or more packages that exist on disk in a folder defined in the registry.
    void InstallPackagesFromRegistryRepository(string keyName, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);

    // Installs one or more packages that are embedded in a Visual Studio Extension Package.
    void InstallPackagesFromVSExtensionRepository(string extensionId, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);
    ```

### <a name="development-only-dependencies"></a><span data-ttu-id="dc374-231">開発専用の依存関係</span><span class="sxs-lookup"><span data-stu-id="dc374-231">Development-Only Dependencies</span></span>

<span data-ttu-id="dc374-232">この機能が提供された[Adam Ralph](https://twitter.com/adamralph)これにより、開発に使用されたのみの依存関係は、時間し、パッケージの依存関係を必要としないを宣言するパッケージ作成者とします。</span><span class="sxs-lookup"><span data-stu-id="dc374-232">This feature was contributed by [Adam Ralph](https://twitter.com/adamralph) and it allows package authors to declare dependencies that were only used at development time and don't require package dependencies.</span></span> <span data-ttu-id="dc374-233">追加することで、`developmentDependency="true"`属性でパッケージを`packages.config`、`nuget.exe pack`依存関係としてそのパッケージは含まれません。</span><span class="sxs-lookup"><span data-stu-id="dc374-233">By adding a `developmentDependency="true"` attribute to a package in `packages.config`, `nuget.exe pack` will no longer include that package as a dependency.</span></span>

### <a name="removed-support-for-visual-studio-2010-express-for-windows-phone"></a><span data-ttu-id="dc374-234">Visual Studio 2010 Express for Windows Phone のサポートの削除</span><span class="sxs-lookup"><span data-stu-id="dc374-234">Removed Support for Visual Studio 2010 Express for Windows Phone</span></span>

<span data-ttu-id="dc374-235">2.7 で新しいパッケージの復元モデルは、これは、メイン NuGet VSPackage からさまざまな新しい VSPackage によって実装されます。</span><span class="sxs-lookup"><span data-stu-id="dc374-235">The new package restore model in 2.7 is implemented by a new VSPackage which is different from the main NuGet VSPackage.</span></span> <span data-ttu-id="dc374-236">技術的な問題によりこの新しい VSPackage はで正しく機能しません、 *Visual Studio 2010 Express for Windows Phone* SKU に他の同じコード ベースを伝えは、Visual Studio Sku をサポートします。</span><span class="sxs-lookup"><span data-stu-id="dc374-236">Due to a technical issue, this new VSPackage doesn't work correctly in the *Visual Studio 2010 Express for Windows Phone* SKU as we share the same code base with other supported Visual Studio SKUs.</span></span> <span data-ttu-id="dc374-237">そのため、NuGet 2.7 以降、削除されるサポート*Visual Studio 2010 Express for Windows Phone*発行済みの拡張機能から。</span><span class="sxs-lookup"><span data-stu-id="dc374-237">Therefore, starting with NuGet 2.7, we are dropping support for *Visual Studio 2010 Express for Windows Phone* from the published extension.</span></span> <span data-ttu-id="dc374-238">サポート*Visual Studio 2010 の Express for Web* Visual Studio の拡張機能ギャラリーにパブリッシュされたプライマリの拡張機能にまだ含まれています。</span><span class="sxs-lookup"><span data-stu-id="dc374-238">Support for *Visual Studio 2010 Express for Web* is still included in the primary extension published to the Visual Studio Extension Gallery.</span></span>

<span data-ttu-id="dc374-239">ありませんが、どのように多くの開発者が Visual Studio のバージョン/エディションで NuGet をまだ使っている、ためそれらのユーザー専用の個別の Visual Studio 拡張機能を公開あり、(Visual Studio の拡張機能ギャラリーではなく) CodePlex で公開.</span><span class="sxs-lookup"><span data-stu-id="dc374-239">Since we are unsure how many developers are still using NuGet in that version/edition of Visual Studio, we are publishing a separate Visual Studio extension specifically for those users and publishing it on CodePlex (rather than the Visual Studio Extension Gallery).</span></span> <span data-ttu-id="dc374-240">これに影響する場合は、その拡張機能を維持するために続行する予定はありません CodePlex で問題を提出して通知してください。</span><span class="sxs-lookup"><span data-stu-id="dc374-240">We don't plan to continue to maintain that extension, but if this affects you please let us know by filing an issue on CodePlex.</span></span>

<span data-ttu-id="dc374-241">(Visual Studio 2010 Express for Windows Phone) 用の NuGet パッケージ マネージャーをダウンロードするを参照してください。、 [NuGet 2.7 をダウンロード](https://nuget.codeplex.com/releases/view/107605)ページ。</span><span class="sxs-lookup"><span data-stu-id="dc374-241">To download the NuGet Package Manager (for Visual Studio 2010 Express for Windows Phone), visit the [NuGet 2.7 Downloads](https://nuget.codeplex.com/releases/view/107605) page.</span></span>

### <a name="bug-fixes"></a><span data-ttu-id="dc374-242">バグ修正</span><span class="sxs-lookup"><span data-stu-id="dc374-242">Bug Fixes</span></span>

<span data-ttu-id="dc374-243">NuGet のこのリリースには、これらの機能に加えて、他の多くのバグ修正も含まれています。</span><span class="sxs-lookup"><span data-stu-id="dc374-243">In addition to these features, this release of NuGet also includes many other bug fixes.</span></span> <span data-ttu-id="dc374-244">リリースで対処された 97 合計問題が発生しました。</span><span class="sxs-lookup"><span data-stu-id="dc374-244">There were 97 total issues addressed in the release.</span></span> <span data-ttu-id="dc374-245">作業の完全な一覧の項目で修正された NuGet 2.7 の場合、くださいビュー、[このリリースの NuGet Issue Tracker](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all)します。</span><span class="sxs-lookup"><span data-stu-id="dc374-245">For a full list of work items fixed in NuGet 2.7, please view the [NuGet Issue Tracker for this release](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all).</span></span>
