---
title: NuGet V3 API のカタログ リソース
description: カタログは、すべてのパッケージが作成され、nuget.org の削除のインデックスです。
author: joelverhagen
ms.author: jver
ms.date: 10/30/2017
ms.topic: reference
ms.reviewer: kraigb
ms.openlocfilehash: 8e4fb376e471a207333d241aeb414da7d5c3571e
ms.sourcegitcommit: 2a9d149bc6f5ff76b0b657324820bd0429cddeef
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/01/2019
ms.locfileid: "67496538"
---
# <a name="catalog"></a><span data-ttu-id="e9a68-103">Catalog</span><span class="sxs-lookup"><span data-stu-id="e9a68-103">Catalog</span></span>

<span data-ttu-id="e9a68-104">**カタログ**リソースの作成と削除などのパッケージ ソースのすべてのパッケージ操作の記録です。</span><span class="sxs-lookup"><span data-stu-id="e9a68-104">The **catalog** is a resource that records all package operations on a package source, such as creations and deletions.</span></span> <span data-ttu-id="e9a68-105">カタログ リソースは、`Catalog`で入力、[サービス インデックス](service-index.md)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-105">The catalog resource has the `Catalog` type in the [service index](service-index.md).</span></span> <span data-ttu-id="e9a68-106">このリソースを使用する[パッケージが公開されているすべてのクエリ](../guides/api/query-for-all-published-packages.md)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-106">You can use this resource to [query for all published packages](../guides/api/query-for-all-published-packages.md).</span></span>

> [!Note]
> <span data-ttu-id="e9a68-107">カタログが、公式の NuGet クライアントによって使用されていないために、すべてのパッケージのソースはカタログを実装します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-107">Because the catalog is not used by the official NuGet client, not all package sources implement the catalog.</span></span>

> [!Note]
> <span data-ttu-id="e9a68-108">現時点では、nuget.org のカタログでは、中国で使用できません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-108">Currently, the nuget.org catalog is not available in China.</span></span> <span data-ttu-id="e9a68-109">詳細については、次を参照してください。 [Nuget/nugetgallery #4949](https://github.com/NuGet/NuGetGallery/issues/4949)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-109">For more details, see [NuGet/NuGetGallery#4949](https://github.com/NuGet/NuGetGallery/issues/4949).</span></span>

## <a name="versioning"></a><span data-ttu-id="e9a68-110">バージョン管理</span><span class="sxs-lookup"><span data-stu-id="e9a68-110">Versioning</span></span>

<span data-ttu-id="e9a68-111">次`@type`値が使用されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-111">The following `@type` value is used:</span></span>

<span data-ttu-id="e9a68-112">@type の値</span><span class="sxs-lookup"><span data-stu-id="e9a68-112">@type value</span></span>   | <span data-ttu-id="e9a68-113">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-113">Notes</span></span>
------------- | -----
<span data-ttu-id="e9a68-114">Catalog/3.0.0</span><span class="sxs-lookup"><span data-stu-id="e9a68-114">Catalog/3.0.0</span></span> | <span data-ttu-id="e9a68-115">最初のリリース</span><span class="sxs-lookup"><span data-stu-id="e9a68-115">The initial release</span></span>

## <a name="base-url"></a><span data-ttu-id="e9a68-116">[基本 URL]</span><span class="sxs-lookup"><span data-stu-id="e9a68-116">Base URL</span></span>

<span data-ttu-id="e9a68-117">次の api エントリ ポイントの URL の値である、`@id`前述のリソースに関連付けられたプロパティ`@type`値。</span><span class="sxs-lookup"><span data-stu-id="e9a68-117">The entry point URL for the following APIs is the value of the `@id` property associated with the aforementioned resource `@type` values.</span></span> <span data-ttu-id="e9a68-118">このトピックでは、プレース ホルダー URL を使用して`{@id}`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-118">This topic uses the placeholder URL `{@id}`.</span></span>

## <a name="http-methods"></a><span data-ttu-id="e9a68-119">HTTP メソッド</span><span class="sxs-lookup"><span data-stu-id="e9a68-119">HTTP methods</span></span>

<span data-ttu-id="e9a68-120">HTTP メソッドのみをカタログ リソースのサポートで検出されたすべての Url`GET`と`HEAD`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-120">All URLs found in the catalog resource support only the HTTP methods `GET` and `HEAD`.</span></span>

## <a name="catalog-index"></a><span data-ttu-id="e9a68-121">カタログ インデックス</span><span class="sxs-lookup"><span data-stu-id="e9a68-121">Catalog index</span></span>

<span data-ttu-id="e9a68-122">カタログ インデックスは、時系列順に並べ、カタログ アイテムの一覧がある既知の場所でドキュメントです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-122">The catalog index is a document in a well-known location that has a list of catalog items, ordered chronologically.</span></span> <span data-ttu-id="e9a68-123">カタログ リソースのエントリ ポイントです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-123">It is the entry point of the catalog resource.</span></span>

<span data-ttu-id="e9a68-124">インデックスは、カタログ ページで構成されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-124">The index is comprised of catalog pages.</span></span> <span data-ttu-id="e9a68-125">カタログの各ページには、カタログ項目が含まれています。</span><span class="sxs-lookup"><span data-stu-id="e9a68-125">Each catalog page contains catalog items.</span></span> <span data-ttu-id="e9a68-126">各カタログ項目は、時間の時点で 1 つのパッケージに関連イベントを表します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-126">Each catalog item represents an event concerning a single package at a point in time.</span></span> <span data-ttu-id="e9a68-127">カタログ アイテムには、作成された、一覧にない、一覧に再記載、または削除されたパッケージ ソースからパッケージを表すことができます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-127">A catalog item can represent a package that was created, unlisted, relisted, or deleted from the package source.</span></span> <span data-ttu-id="e9a68-128">時系列順でカタログ アイテムを処理することによって、クライアントは、V3 パッケージ ソースに存在するすべてのパッケージの最新の状態のビューを構築できます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-128">By processing the catalog items in chronological order, the client can build an up-to-date view of every package that exists on the V3 package source.</span></span>

<span data-ttu-id="e9a68-129">つまり、カタログの blob には、次の階層構造があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-129">In short, catalog blobs have the following hierarchical structure:</span></span>

- <span data-ttu-id="e9a68-130">**インデックス**: カタログのエントリ ポイント。</span><span class="sxs-lookup"><span data-stu-id="e9a68-130">**Index**: the entry point for the catalog.</span></span>
- <span data-ttu-id="e9a68-131">**ページ**: カタログ アイテムのグループ化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-131">**Page**: a grouping of catalog items.</span></span>
- <span data-ttu-id="e9a68-132">**リーフ**: 1 つのパッケージの状態のスナップショットは、カタログ アイテムを表すドキュメント。</span><span class="sxs-lookup"><span data-stu-id="e9a68-132">**Leaf**: a document representing a catalog item, which is a snapshot of a single package's state.</span></span>

<span data-ttu-id="e9a68-133">カタログの各オブジェクトがという名前のプロパティ、`commitTimeStamp`アイテムがカタログに追加されたときを表します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-133">Each catalog object has a property called the `commitTimeStamp` representing when the item was added to the catalog.</span></span> <span data-ttu-id="e9a68-134">カタログ項目は、コミットと呼ばれるバッチでのカタログ ページに追加されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-134">Catalog items are added to a catalog page in batches called commits.</span></span> <span data-ttu-id="e9a68-135">同じコミット内のすべてのカタログ項目が同じコミット タイムスタンプがある (`commitTimeStamp`) とコミット ID (`commitId`)。</span><span class="sxs-lookup"><span data-stu-id="e9a68-135">All catalog items in the same commit have the same commit timestamp (`commitTimeStamp`) and commit ID (`commitId`).</span></span> <span data-ttu-id="e9a68-136">カタログ項目が同じコミット内に配置では、パッケージ ソースでの同じ点を中心に発生したイベントを表します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-136">Catalog items placed in the same commit represent events that happened around the same point in time on the package source.</span></span> <span data-ttu-id="e9a68-137">カタログ コミット内で順序がありません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-137">There is no ordering within a catalog commit.</span></span>

<span data-ttu-id="e9a68-138">各パッケージ ID とバージョンは、一意であるためにはことはありませんは、複数のカタログ項目にはコミットします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-138">Because each package ID and version is unique, there will never be more than one catalog item in a commit.</span></span> <span data-ttu-id="e9a68-139">これにより、1 つのパッケージ用のカタログ アイテム常に明確に順序を指定できますに関しては、コミット タイムスタンプ。</span><span class="sxs-lookup"><span data-stu-id="e9a68-139">This ensures that catalog items for a single package can always be unambiguously ordered with respect to commit timestamp.</span></span>

<span data-ttu-id="e9a68-140">カタログごとに 1 つ以上のコミットにならない`commitTimeStamp`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-140">There is never be more than one commit to the catalog per `commitTimeStamp`.</span></span> <span data-ttu-id="e9a68-141">つまり、`commitId`が重複して、`commitTimeStamp`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-141">In other words, the `commitId` is redundant with the `commitTimeStamp`.</span></span>

<span data-ttu-id="e9a68-142">異なり、[パッケージ メタデータ リソース](registration-base-url-resource.md)、パッケージ ID によってインデックスが作成されるカタログ、インデックスが (クエリ可能な) 時間によってのみです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-142">In contrast to the [package metadata resource](registration-base-url-resource.md), which is indexed by package ID, the catalog is indexed (and queryable) only by time.</span></span>

<span data-ttu-id="e9a68-143">カタログ アイテムは常に 1 ずつ増加、時系列順でカタログに追加します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-143">Catalog items are always added to the catalog in a monotonically increasing, chronological order.</span></span> <span data-ttu-id="e9a68-144">つまり、ことカタログ コミットは時刻 X に追加された場合、カタログのコミットはまったく追加しないことで X 少ないの時間。</span><span class="sxs-lookup"><span data-stu-id="e9a68-144">This means that if a catalog commit is added at time X then no catalog commit will ever be added with a time less than or equal to X.</span></span>

<span data-ttu-id="e9a68-145">次の要求は、カタログ インデックスをフェッチします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-145">The following request fetches the catalog index.</span></span>

    GET {@id}

<span data-ttu-id="e9a68-146">カタログ インデックスは、次のプロパティを持つオブジェクトを含む JSON ドキュメントを示します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-146">The catalog index is a JSON document that contains an object with the following properties:</span></span>

<span data-ttu-id="e9a68-147">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-147">Name</span></span>            | <span data-ttu-id="e9a68-148">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-148">Type</span></span>             | <span data-ttu-id="e9a68-149">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-149">Required</span></span> | <span data-ttu-id="e9a68-150">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-150">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="e9a68-151">commitId</span><span class="sxs-lookup"><span data-stu-id="e9a68-151">commitId</span></span>        | <span data-ttu-id="e9a68-152">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-152">string</span></span>           | <span data-ttu-id="e9a68-153">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-153">yes</span></span>      | <span data-ttu-id="e9a68-154">最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-154">A unique ID associated with the most recent commit</span></span>
<span data-ttu-id="e9a68-155">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="e9a68-155">commitTimeStamp</span></span> | <span data-ttu-id="e9a68-156">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-156">string</span></span>           | <span data-ttu-id="e9a68-157">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-157">yes</span></span>      | <span data-ttu-id="e9a68-158">最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="e9a68-158">A timestamp of the most recent commit</span></span>
<span data-ttu-id="e9a68-159">count</span><span class="sxs-lookup"><span data-stu-id="e9a68-159">count</span></span>           | <span data-ttu-id="e9a68-160">integer</span><span class="sxs-lookup"><span data-stu-id="e9a68-160">integer</span></span>          | <span data-ttu-id="e9a68-161">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-161">yes</span></span>      | <span data-ttu-id="e9a68-162">インデックス内のページの数</span><span class="sxs-lookup"><span data-stu-id="e9a68-162">The number of pages in the index</span></span>
<span data-ttu-id="e9a68-163">items</span><span class="sxs-lookup"><span data-stu-id="e9a68-163">items</span></span>           | <span data-ttu-id="e9a68-164">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-164">array of objects</span></span> | <span data-ttu-id="e9a68-165">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-165">yes</span></span>      | <span data-ttu-id="e9a68-166">各オブジェクト、ページを表す、オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-166">A array of objects, each object representing a page</span></span>

<span data-ttu-id="e9a68-167">内の各要素、`items`配列は、各ページに関するいくつかの最小限の情報を持つオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="e9a68-167">Each element in the `items` array is an object with some minimal details about each page.</span></span> <span data-ttu-id="e9a68-168">これらのページ オブジェクトでは、カタログ リーフ (アイテム) は含まれません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-168">These page objects do not contain the catalog leaves (items).</span></span> <span data-ttu-id="e9a68-169">この配列内の要素の順序が定義されていません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-169">The order of the elements in this array is not defined.</span></span> <span data-ttu-id="e9a68-170">使用したメモリ内のクライアントからページの順序を指定できます、`commitTimeStamp`プロパティ。</span><span class="sxs-lookup"><span data-stu-id="e9a68-170">Pages can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="e9a68-171">新しいページが導入されていると、`count`が増分され、新しいオブジェクトに表示されます、`items`配列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-171">As new pages are introduced, the `count` will be incremented and new objects will appear in the `items` array.</span></span>

<span data-ttu-id="e9a68-172">カタログ、インデックスの項目が追加された`commitId`変更は、`commitTimeStamp`が増加します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-172">As items are added to the catalog, the index's `commitId` will change and the `commitTimeStamp` will increase.</span></span> <span data-ttu-id="e9a68-173">これら 2 つのプロパティは概要では基本的にすべてのページ`commitId`と`commitTimeStamp`値、`items`配列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-173">These two properties are essentially a summary over all page `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-page-object-in-the-index"></a><span data-ttu-id="e9a68-174">インデックス内のカタログ ページ オブジェクト</span><span class="sxs-lookup"><span data-stu-id="e9a68-174">Catalog page object in the index</span></span>

<span data-ttu-id="e9a68-175">カタログ インデックスのカタログ ページ オブジェクトが見つかった`items`プロパティの次のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-175">The catalog page objects found in the catalog index's `items` property have the following properties:</span></span>

<span data-ttu-id="e9a68-176">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-176">Name</span></span>            | <span data-ttu-id="e9a68-177">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-177">Type</span></span>    | <span data-ttu-id="e9a68-178">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-178">Required</span></span> | <span data-ttu-id="e9a68-179">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-179">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="e9a68-180">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-180">string</span></span>  | <span data-ttu-id="e9a68-181">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-181">yes</span></span>      | <span data-ttu-id="e9a68-182">フェッチのカタログ ページの URL</span><span class="sxs-lookup"><span data-stu-id="e9a68-182">The URL to fetch catalog page</span></span>
<span data-ttu-id="e9a68-183">commitId</span><span class="sxs-lookup"><span data-stu-id="e9a68-183">commitId</span></span>        | <span data-ttu-id="e9a68-184">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-184">string</span></span>  | <span data-ttu-id="e9a68-185">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-185">yes</span></span>      | <span data-ttu-id="e9a68-186">このページで最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-186">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="e9a68-187">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="e9a68-187">commitTimeStamp</span></span> | <span data-ttu-id="e9a68-188">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-188">string</span></span>  | <span data-ttu-id="e9a68-189">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-189">yes</span></span>      | <span data-ttu-id="e9a68-190">このページで最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="e9a68-190">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="e9a68-191">count</span><span class="sxs-lookup"><span data-stu-id="e9a68-191">count</span></span>           | <span data-ttu-id="e9a68-192">integer</span><span class="sxs-lookup"><span data-stu-id="e9a68-192">integer</span></span> | <span data-ttu-id="e9a68-193">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-193">yes</span></span>      | <span data-ttu-id="e9a68-194">カタログ ページ内の項目の数</span><span class="sxs-lookup"><span data-stu-id="e9a68-194">The number of items in the catalog page</span></span>

<span data-ttu-id="e9a68-195">異なり、[パッケージ メタデータ リソース](registration-base-url-resource.md)インラインのケースでは、いくつかのインデックスにまま、カタログ リーフ インデックスにインライン展開されないし、ページを使用して常にフェッチする必要があります`@id`URL。</span><span class="sxs-lookup"><span data-stu-id="e9a68-195">In contrast to the [package metadata resource](registration-base-url-resource.md) which in some cases inlines leaves into the index, catalog leaves are never inlined into the index and must always be fetched by using the page's `@id` URL.</span></span>

### <a name="sample-request"></a><span data-ttu-id="e9a68-196">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-196">Sample request</span></span>

    GET https://api.nuget.org/v3/catalog0/index.json

### <a name="sample-response"></a><span data-ttu-id="e9a68-197">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-197">Sample response</span></span>

[!code-JSON [catalog-index.json](./_data/catalog-index.json)]

## <a name="catalog-page"></a><span data-ttu-id="e9a68-198">[カタログ] ページ</span><span class="sxs-lookup"><span data-stu-id="e9a68-198">Catalog page</span></span>

<span data-ttu-id="e9a68-199">カタログ ページには、カタログ アイテムのコレクションです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-199">The catalog page is a collection of catalog items.</span></span> <span data-ttu-id="e9a68-200">いずれかを使用してフェッチ ドキュメントでは、`@id`カタログ インデックスで値が見つかりません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-200">It is a document fetched using one of the `@id` values found in the catalog index.</span></span> <span data-ttu-id="e9a68-201">カタログ ページの URL は、予測できるものではありませんし、カタログ インデックスのみを使用して検出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-201">The URL to a catalog page is not intended to be predictable and should be discovered using only the catalog index.</span></span>

<span data-ttu-id="e9a68-202">新しいカタログ項目は、最高のコミット タイムスタンプでのみカタログ インデックス内のページまたは新しいページに追加されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-202">New catalog items are added to the page in the catalog index only with the highest commit timestamp or to a new page.</span></span> <span data-ttu-id="e9a68-203">コミット タイムスタンプが上位のページをカタログに追加すると、古いページは決して追加または変更。</span><span class="sxs-lookup"><span data-stu-id="e9a68-203">Once a page with a higher commit timestamp is added to the catalog, older pages are never added to or changed.</span></span>

<span data-ttu-id="e9a68-204">カタログ ページのドキュメントでは、次のプロパティを持つ JSON オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-204">The catalog page document is a JSON object with the following properties:</span></span>

<span data-ttu-id="e9a68-205">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-205">Name</span></span>            | <span data-ttu-id="e9a68-206">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-206">Type</span></span>             | <span data-ttu-id="e9a68-207">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-207">Required</span></span> | <span data-ttu-id="e9a68-208">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-208">Notes</span></span>
--------------- | ---------------- | -------- | -----
<span data-ttu-id="e9a68-209">commitId</span><span class="sxs-lookup"><span data-stu-id="e9a68-209">commitId</span></span>        | <span data-ttu-id="e9a68-210">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-210">string</span></span>           | <span data-ttu-id="e9a68-211">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-211">yes</span></span>      | <span data-ttu-id="e9a68-212">このページで最新のコミットに関連付けられている一意の ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-212">A unique ID associated with the most recent commit in this page</span></span>
<span data-ttu-id="e9a68-213">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="e9a68-213">commitTimeStamp</span></span> | <span data-ttu-id="e9a68-214">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-214">string</span></span>           | <span data-ttu-id="e9a68-215">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-215">yes</span></span>      | <span data-ttu-id="e9a68-216">このページで最新のコミットのタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="e9a68-216">A timestamp of the most recent commit in this page</span></span>
<span data-ttu-id="e9a68-217">count</span><span class="sxs-lookup"><span data-stu-id="e9a68-217">count</span></span>           | <span data-ttu-id="e9a68-218">integer</span><span class="sxs-lookup"><span data-stu-id="e9a68-218">integer</span></span>          | <span data-ttu-id="e9a68-219">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-219">yes</span></span>      | <span data-ttu-id="e9a68-220">ページ内の項目の数</span><span class="sxs-lookup"><span data-stu-id="e9a68-220">The number of items in the page</span></span>
<span data-ttu-id="e9a68-221">items</span><span class="sxs-lookup"><span data-stu-id="e9a68-221">items</span></span>           | <span data-ttu-id="e9a68-222">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-222">array of objects</span></span> | <span data-ttu-id="e9a68-223">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-223">yes</span></span>      | <span data-ttu-id="e9a68-224">このページでカタログ アイテム</span><span class="sxs-lookup"><span data-stu-id="e9a68-224">The catalog items in this page</span></span>
<span data-ttu-id="e9a68-225">parent</span><span class="sxs-lookup"><span data-stu-id="e9a68-225">parent</span></span>          | <span data-ttu-id="e9a68-226">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-226">string</span></span>           | <span data-ttu-id="e9a68-227">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-227">yes</span></span>      | <span data-ttu-id="e9a68-228">カタログ インデックスへの URL</span><span class="sxs-lookup"><span data-stu-id="e9a68-228">A URL to the catalog index</span></span>

<span data-ttu-id="e9a68-229">内の各要素、`items`配列は、カタログ項目に関するいくつかの最小限の情報を持つオブジェクト。</span><span class="sxs-lookup"><span data-stu-id="e9a68-229">Each element in the `items` array is an object with some minimal details about the catalog item.</span></span> <span data-ttu-id="e9a68-230">これらの項目オブジェクトでは、すべてのカタログ項目のデータは含まれません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-230">These item objects do not contain all of the catalog item's data.</span></span> <span data-ttu-id="e9a68-231">ページの項目の順序`items`配列が定義されていません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-231">The order of the items in the page's `items` array is not defined.</span></span> <span data-ttu-id="e9a68-232">メモリを使用して、クライアントによって項目の順序を指定できます、`commitTimeStamp`プロパティ。</span><span class="sxs-lookup"><span data-stu-id="e9a68-232">Items can be ordered by the client in memory using their `commitTimeStamp` property.</span></span>

<span data-ttu-id="e9a68-233">ページでカタログ アイテムの数は、サーバーの実装によって定義されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-233">The number of catalog items in a page is defined by server implementation.</span></span> <span data-ttu-id="e9a68-234">Nuget.org の場合最大 550 にアイテムが各ページで、実際の数は、時間の時点で、次のコミット バッチのサイズによっては一部のページの小さい場合がありますがします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-234">For nuget.org, there are at most 550 items in each page, although the actual number may be smaller for some pages depending on the size of the next commit batch at the point in time.</span></span>

<span data-ttu-id="e9a68-235">新しい項目が導入されていると、`count`にインクリメントされると、新しいカタログ項目オブジェクトが表示、`items`配列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-235">As new items are introduced, the `count` is incremented and new catalog item objects appear in the `items` array.</span></span>

<span data-ttu-id="e9a68-236">項目が、ページに追加されると、`commitId`変更と`commitTimeStamp`が増加します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-236">As items are added to the page, the `commitId` changes and the `commitTimeStamp` increases.</span></span> <span data-ttu-id="e9a68-237">これら 2 つのプロパティのすべての概要では基本的は`commitId`と`commitTimeStamp`値、`items`配列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-237">These two properties are essentially a summary over all `commitId` and `commitTimeStamp` values in the `items` array.</span></span>

### <a name="catalog-item-object-in-a-page"></a><span data-ttu-id="e9a68-238">ページ内の項目のオブジェクトをカタログします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-238">Catalog item object in a page</span></span>

<span data-ttu-id="e9a68-239">カタログ項目のオブジェクトが、カタログ ページで見つかった`items`プロパティの次のプロパティがあります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-239">The catalog item objects found in the catalog page's `items` property have the following properties:</span></span>

<span data-ttu-id="e9a68-240">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-240">Name</span></span>            | <span data-ttu-id="e9a68-241">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-241">Type</span></span>    | <span data-ttu-id="e9a68-242">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-242">Required</span></span> | <span data-ttu-id="e9a68-243">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-243">Notes</span></span>
--------------- | ------- | -------- | -----
@id             | <span data-ttu-id="e9a68-244">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-244">string</span></span>  | <span data-ttu-id="e9a68-245">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-245">yes</span></span>      | <span data-ttu-id="e9a68-246">カタログ項目をフェッチする URL</span><span class="sxs-lookup"><span data-stu-id="e9a68-246">The URL to fetch the catalog item</span></span>
@type           | <span data-ttu-id="e9a68-247">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-247">string</span></span>  | <span data-ttu-id="e9a68-248">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-248">yes</span></span>      | <span data-ttu-id="e9a68-249">カタログ項目の種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-249">The type of the catalog item</span></span>
<span data-ttu-id="e9a68-250">commitId</span><span class="sxs-lookup"><span data-stu-id="e9a68-250">commitId</span></span>        | <span data-ttu-id="e9a68-251">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-251">string</span></span>  | <span data-ttu-id="e9a68-252">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-252">yes</span></span>      | <span data-ttu-id="e9a68-253">このカタログ アイテムに関連付けられたコミット ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-253">The commit ID associated with this catalog item</span></span>
<span data-ttu-id="e9a68-254">commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="e9a68-254">commitTimeStamp</span></span> | <span data-ttu-id="e9a68-255">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-255">string</span></span>  | <span data-ttu-id="e9a68-256">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-256">yes</span></span>      | <span data-ttu-id="e9a68-257">このカタログ アイテムのコミット タイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="e9a68-257">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="e9a68-258">nuget:id</span><span class="sxs-lookup"><span data-stu-id="e9a68-258">nuget:id</span></span>        | <span data-ttu-id="e9a68-259">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-259">string</span></span>  | <span data-ttu-id="e9a68-260">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-260">yes</span></span>      | <span data-ttu-id="e9a68-261">このリーフに関連するパッケージ ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-261">The package ID that this leaf is related to</span></span>
<span data-ttu-id="e9a68-262">nuget:version</span><span class="sxs-lookup"><span data-stu-id="e9a68-262">nuget:version</span></span>   | <span data-ttu-id="e9a68-263">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-263">string</span></span>  | <span data-ttu-id="e9a68-264">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-264">yes</span></span>      | <span data-ttu-id="e9a68-265">このリーフに関連するパッケージのバージョン</span><span class="sxs-lookup"><span data-stu-id="e9a68-265">The package version that this leaf is related to</span></span>

<span data-ttu-id="e9a68-266">`@type`値には、次の 2 つの値のいずれかになります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-266">The `@type` value will be one of the following two values:</span></span>

1. <span data-ttu-id="e9a68-267">`nuget:PackageDetails`: これに対応して`PackageDetails`カタログ リーフ ドキュメントの種類。</span><span class="sxs-lookup"><span data-stu-id="e9a68-267">`nuget:PackageDetails`: this corresponds to `PackageDetails` type in the catalog leaf document.</span></span>
1. <span data-ttu-id="e9a68-268">`nuget:PackageDelete`: これに対応して、`PackageDelete`カタログ リーフ ドキュメントの種類。</span><span class="sxs-lookup"><span data-stu-id="e9a68-268">`nuget:PackageDelete`: this corresponds to the `PackageDelete` type in the catalog leaf document.</span></span>

<span data-ttu-id="e9a68-269">どのような各型の意味を参照してください詳細については、[項目の種類を対応する](#item-types)以下。</span><span class="sxs-lookup"><span data-stu-id="e9a68-269">For more details about what each type means, see the [corresponding items type](#item-types) below.</span></span>

### <a name="sample-request"></a><span data-ttu-id="e9a68-270">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-270">Sample request</span></span>

    GET https://api.nuget.org/v3/catalog0/page2926.json

### <a name="sample-response"></a><span data-ttu-id="e9a68-271">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-271">Sample response</span></span>

[!code-JSON [catalog-page.json](./_data/catalog-page.json)]

## <a name="catalog-leaf"></a><span data-ttu-id="e9a68-272">カタログ リーフ</span><span class="sxs-lookup"><span data-stu-id="e9a68-272">Catalog leaf</span></span>

<span data-ttu-id="e9a68-273">カタログ リーフには、時間内の特定のパッケージ ID といくつかの時点のバージョンに関するメタデータが含まれています。</span><span class="sxs-lookup"><span data-stu-id="e9a68-273">The catalog leaf contains metadata about a specific package ID and version at some point in time.</span></span> <span data-ttu-id="e9a68-274">使用してフェッチ ドキュメントでは、`@id`カタログ ページで値が見つかりました。</span><span class="sxs-lookup"><span data-stu-id="e9a68-274">It is a document fetched using the `@id` value found in a catalog page.</span></span> <span data-ttu-id="e9a68-275">カタログ リーフを URL では、予測できるものではありませんし、カタログ ページのみを使用して検出する必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-275">The URL to a catalog leaf is not intended to be predictable and should be discovered using only a catalog page.</span></span>

<span data-ttu-id="e9a68-276">カタログ リーフ ドキュメントでは、次のプロパティを持つ JSON オブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-276">The catalog leaf document is a JSON object with the following properties:</span></span>

<span data-ttu-id="e9a68-277">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-277">Name</span></span>                    | <span data-ttu-id="e9a68-278">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-278">Type</span></span>                       | <span data-ttu-id="e9a68-279">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-279">Required</span></span> | <span data-ttu-id="e9a68-280">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-280">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
@type                   | <span data-ttu-id="e9a68-281">文字列または文字列の配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-281">string or array of strings</span></span> | <span data-ttu-id="e9a68-282">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-282">yes</span></span>      | <span data-ttu-id="e9a68-283">カタログ アイテムの種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-283">The type(s) of the catalog item</span></span>
<span data-ttu-id="e9a68-284">catalog:commitId</span><span class="sxs-lookup"><span data-stu-id="e9a68-284">catalog:commitId</span></span>        | <span data-ttu-id="e9a68-285">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-285">string</span></span>                     | <span data-ttu-id="e9a68-286">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-286">yes</span></span>      | <span data-ttu-id="e9a68-287">このカタログ アイテムに関連付けられたコミット ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-287">A commit ID associated with this catalog item</span></span>
<span data-ttu-id="e9a68-288">catalog:commitTimeStamp</span><span class="sxs-lookup"><span data-stu-id="e9a68-288">catalog:commitTimeStamp</span></span> | <span data-ttu-id="e9a68-289">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-289">string</span></span>                     | <span data-ttu-id="e9a68-290">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-290">yes</span></span>      | <span data-ttu-id="e9a68-291">このカタログ アイテムのコミット タイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="e9a68-291">The commit timestamp of this catalog item</span></span>
<span data-ttu-id="e9a68-292">id</span><span class="sxs-lookup"><span data-stu-id="e9a68-292">id</span></span>                      | <span data-ttu-id="e9a68-293">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-293">string</span></span>                     | <span data-ttu-id="e9a68-294">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-294">yes</span></span>      | <span data-ttu-id="e9a68-295">カタログ アイテムのパッケージ ID</span><span class="sxs-lookup"><span data-stu-id="e9a68-295">The package ID of the catalog item</span></span>
<span data-ttu-id="e9a68-296">published</span><span class="sxs-lookup"><span data-stu-id="e9a68-296">published</span></span>               | <span data-ttu-id="e9a68-297">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-297">string</span></span>                     | <span data-ttu-id="e9a68-298">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-298">yes</span></span>      | <span data-ttu-id="e9a68-299">パッケージのカタログ アイテムの発行日</span><span class="sxs-lookup"><span data-stu-id="e9a68-299">The published date of the package catalog item</span></span>
<span data-ttu-id="e9a68-300">version</span><span class="sxs-lookup"><span data-stu-id="e9a68-300">version</span></span>                 | <span data-ttu-id="e9a68-301">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-301">string</span></span>                     | <span data-ttu-id="e9a68-302">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-302">yes</span></span>      | <span data-ttu-id="e9a68-303">カタログ アイテムのパッケージのバージョン</span><span class="sxs-lookup"><span data-stu-id="e9a68-303">The package version of the catalog item</span></span>

### <a name="item-types"></a><span data-ttu-id="e9a68-304">項目の種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-304">Item types</span></span>

<span data-ttu-id="e9a68-305">`@type`プロパティは、文字列または文字列の配列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-305">The `@type` property is a string or array of strings.</span></span> <span data-ttu-id="e9a68-306">便宜上場合、`@type`値は、文字列、1 つのサイズの配列として扱う必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-306">For convenience, if the `@type` value is a string, it should be treated as any array of size one.</span></span> <span data-ttu-id="e9a68-307">すべての可能な値`@type`は記載されています。</span><span class="sxs-lookup"><span data-stu-id="e9a68-307">Not all possible values for `@type` are documented.</span></span> <span data-ttu-id="e9a68-308">ただし、各カタログ アイテムには、次の 2 つの文字列型値の 1 つだけがあります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-308">However, each catalog item has exactly one of the two following string type values:</span></span>

1. <span data-ttu-id="e9a68-309">`PackageDetails`: パッケージのメタデータのスナップショットを表します</span><span class="sxs-lookup"><span data-stu-id="e9a68-309">`PackageDetails`: represents a snapshot of package metadata</span></span>
1. <span data-ttu-id="e9a68-310">`PackageDelete`: 削除されたパッケージを表します</span><span class="sxs-lookup"><span data-stu-id="e9a68-310">`PackageDelete`: represents a package that was deleted</span></span>

### <a name="package-details-catalog-items"></a><span data-ttu-id="e9a68-311">カタログ アイテムのパッケージの詳細</span><span class="sxs-lookup"><span data-stu-id="e9a68-311">Package details catalog items</span></span>

<span data-ttu-id="e9a68-312">型を持つ項目をカタログ`PackageDetails`(ID とバージョンの組み合わせ) の特定のパッケージのパッケージ メタデータのスナップショットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-312">Catalog items with the type `PackageDetails` contain a snapshot of package metadata for a specific package (ID and version combination).</span></span> <span data-ttu-id="e9a68-313">パッケージ ソースを検出すると、次のシナリオのいずれかのパッケージの詳細のカタログ項目が生成されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-313">A package details catalog item is produced when a package source encounters any of the following scenarios:</span></span>

1. <span data-ttu-id="e9a68-314">パッケージは、**プッシュ**します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-314">A package is **pushed**.</span></span>
1. <span data-ttu-id="e9a68-315">パッケージは、**表示**します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-315">A package is **listed**.</span></span>
1. <span data-ttu-id="e9a68-316">パッケージは、**一覧にない**します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-316">A package is **unlisted**.</span></span>
1. <span data-ttu-id="e9a68-317">パッケージは、**折り返す**します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-317">A package is **reflowed**.</span></span>

<span data-ttu-id="e9a68-318">パッケージのリフローでは、基本的に、パッケージ自体を変更せずに既存のパッケージの偽のプッシュを生成する管理用のジェスチャです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-318">A package reflow is an administrative gesture that essentially generates a fake push of an existing package with no changes to the package itself.</span></span> <span data-ttu-id="e9a68-319">Nuget.org には、カタログを使用するバック グラウンド ジョブのいずれかでバグを修正した後、リフローが使用されます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-319">On nuget.org, a reflow is used after fixing a bug in one of the background jobs which consume the catalog.</span></span>

<span data-ttu-id="e9a68-320">クライアントが、カタログ項目を使用しようとしないでくださいカタログ項目を生成すると、これらのシナリオを決定します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-320">Clients consuming the catalog items should not attempt to determine which of these scenarios produced the catalog item.</span></span> <span data-ttu-id="e9a68-321">代わりに、クライアント更新必要がありますだけです、保持しているビューまたはパーティション インデックス カタログ アイテムに含まれるメタデータを使用します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-321">Instead, the client should simply update any maintained view or index with the metadata contained in the catalog item.</span></span> <span data-ttu-id="e9a68-322">重複するカタログ アイテムを適切に処理する必要がありますさらに、(冪等)。</span><span class="sxs-lookup"><span data-stu-id="e9a68-322">Furthermore, duplicate or redundant catalog items should be handled gracefully (idempotently).</span></span>

<span data-ttu-id="e9a68-323">パッケージの詳細のカタログ項目があるものに加えて、次のプロパティ[すべてのカタログ リーフに含まれている](#catalog-leaf)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-323">Package details catalog items have the following properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="e9a68-324">名前</span><span class="sxs-lookup"><span data-stu-id="e9a68-324">Name</span></span>                    | <span data-ttu-id="e9a68-325">種類</span><span class="sxs-lookup"><span data-stu-id="e9a68-325">Type</span></span>                       | <span data-ttu-id="e9a68-326">必須</span><span class="sxs-lookup"><span data-stu-id="e9a68-326">Required</span></span> | <span data-ttu-id="e9a68-327">メモ</span><span class="sxs-lookup"><span data-stu-id="e9a68-327">Notes</span></span>
----------------------- | -------------------------- | -------- | -----
<span data-ttu-id="e9a68-328">authors</span><span class="sxs-lookup"><span data-stu-id="e9a68-328">authors</span></span>                 | <span data-ttu-id="e9a68-329">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-329">string</span></span>                     | <span data-ttu-id="e9a68-330">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-330">no</span></span>       |
<span data-ttu-id="e9a68-331">created</span><span class="sxs-lookup"><span data-stu-id="e9a68-331">created</span></span>                 | <span data-ttu-id="e9a68-332">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-332">string</span></span>                     | <span data-ttu-id="e9a68-333">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-333">no</span></span>       | <span data-ttu-id="e9a68-334">パッケージが最初に作成されたときのタイムスタンプ。</span><span class="sxs-lookup"><span data-stu-id="e9a68-334">A timestamp of when the package was first created.</span></span> <span data-ttu-id="e9a68-335">フォールバック プロパティ:`published`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-335">Fallback property: `published`.</span></span>
<span data-ttu-id="e9a68-336">dependencyGroups</span><span class="sxs-lookup"><span data-stu-id="e9a68-336">dependencyGroups</span></span>        | <span data-ttu-id="e9a68-337">オブジェクトの配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-337">array of objects</span></span>           | <span data-ttu-id="e9a68-338">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-338">no</span></span>       | <span data-ttu-id="e9a68-339">ターゲット フレームワークによって、パッケージの依存関係がグループ化 ([パッケージ メタデータ リソースと同じ形式](registration-base-url-resource.md#package-dependency-group))</span><span class="sxs-lookup"><span data-stu-id="e9a68-339">The dependencies of the package, grouped by target framework ([same format as the package metadata resource](registration-base-url-resource.md#package-dependency-group))</span></span>
<span data-ttu-id="e9a68-340">deprecation</span><span class="sxs-lookup"><span data-stu-id="e9a68-340">deprecation</span></span>             | <span data-ttu-id="e9a68-341">object</span><span class="sxs-lookup"><span data-stu-id="e9a68-341">object</span></span>                     | <span data-ttu-id="e9a68-342">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-342">no</span></span>       | <span data-ttu-id="e9a68-343">パッケージに関連付けられている非推奨 ([パッケージ メタデータ リソースと同じ形式](registration-base-url-resource.md#package-deprecation))</span><span class="sxs-lookup"><span data-stu-id="e9a68-343">The deprecation associated with the package ([same format as the package metadata resource](registration-base-url-resource.md#package-deprecation))</span></span>
<span data-ttu-id="e9a68-344">description</span><span class="sxs-lookup"><span data-stu-id="e9a68-344">description</span></span>             | <span data-ttu-id="e9a68-345">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-345">string</span></span>                     | <span data-ttu-id="e9a68-346">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-346">no</span></span>       |
<span data-ttu-id="e9a68-347">iconUrl</span><span class="sxs-lookup"><span data-stu-id="e9a68-347">iconUrl</span></span>                 | <span data-ttu-id="e9a68-348">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-348">string</span></span>                     | <span data-ttu-id="e9a68-349">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-349">no</span></span>       |
<span data-ttu-id="e9a68-350">isPrerelease</span><span class="sxs-lookup"><span data-stu-id="e9a68-350">isPrerelease</span></span>            | <span data-ttu-id="e9a68-351">boolean</span><span class="sxs-lookup"><span data-stu-id="e9a68-351">boolean</span></span>                    | <span data-ttu-id="e9a68-352">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-352">no</span></span>       | <span data-ttu-id="e9a68-353">パッケージのバージョンがプレリリースかどうか。</span><span class="sxs-lookup"><span data-stu-id="e9a68-353">Whether or not the package version is prerelease.</span></span> <span data-ttu-id="e9a68-354">検出できる`version`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-354">Can be detected from `version`.</span></span>
<span data-ttu-id="e9a68-355">language</span><span class="sxs-lookup"><span data-stu-id="e9a68-355">language</span></span>                | <span data-ttu-id="e9a68-356">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-356">string</span></span>                     | <span data-ttu-id="e9a68-357">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-357">no</span></span>       |
<span data-ttu-id="e9a68-358">licenseUrl</span><span class="sxs-lookup"><span data-stu-id="e9a68-358">licenseUrl</span></span>              | <span data-ttu-id="e9a68-359">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-359">string</span></span>                     | <span data-ttu-id="e9a68-360">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-360">no</span></span>       |
<span data-ttu-id="e9a68-361">listed</span><span class="sxs-lookup"><span data-stu-id="e9a68-361">listed</span></span>                  | <span data-ttu-id="e9a68-362">boolean</span><span class="sxs-lookup"><span data-stu-id="e9a68-362">boolean</span></span>                    | <span data-ttu-id="e9a68-363">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-363">no</span></span>       | <span data-ttu-id="e9a68-364">パッケージを表示するかどうか</span><span class="sxs-lookup"><span data-stu-id="e9a68-364">Whether or not the package is listed</span></span>
<span data-ttu-id="e9a68-365">minClientVersion</span><span class="sxs-lookup"><span data-stu-id="e9a68-365">minClientVersion</span></span>        | <span data-ttu-id="e9a68-366">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-366">string</span></span>                     | <span data-ttu-id="e9a68-367">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-367">no</span></span>       |
<span data-ttu-id="e9a68-368">packageHash</span><span class="sxs-lookup"><span data-stu-id="e9a68-368">packageHash</span></span>             | <span data-ttu-id="e9a68-369">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-369">string</span></span>                     | <span data-ttu-id="e9a68-370">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-370">yes</span></span>      | <span data-ttu-id="e9a68-371">使用してエンコード、パッケージのハッシュ[標準の base 64](https://tools.ietf.org/html/rfc4648#section-4)</span><span class="sxs-lookup"><span data-stu-id="e9a68-371">The hash of the package, encoding using [standard base 64](https://tools.ietf.org/html/rfc4648#section-4)</span></span>
<span data-ttu-id="e9a68-372">packageHashAlgorithm</span><span class="sxs-lookup"><span data-stu-id="e9a68-372">packageHashAlgorithm</span></span>    | <span data-ttu-id="e9a68-373">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-373">string</span></span>                     | <span data-ttu-id="e9a68-374">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-374">yes</span></span>      |
<span data-ttu-id="e9a68-375">packageSize</span><span class="sxs-lookup"><span data-stu-id="e9a68-375">packageSize</span></span>             | <span data-ttu-id="e9a68-376">integer</span><span class="sxs-lookup"><span data-stu-id="e9a68-376">integer</span></span>                    | <span data-ttu-id="e9a68-377">可</span><span class="sxs-lookup"><span data-stu-id="e9a68-377">yes</span></span>      | <span data-ttu-id="e9a68-378">(バイト単位) パッケージの .nupkg のサイズ</span><span class="sxs-lookup"><span data-stu-id="e9a68-378">The size of the package .nupkg in bytes</span></span>
<span data-ttu-id="e9a68-379">projectUrl</span><span class="sxs-lookup"><span data-stu-id="e9a68-379">projectUrl</span></span>              | <span data-ttu-id="e9a68-380">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-380">string</span></span>                     | <span data-ttu-id="e9a68-381">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-381">no</span></span>       |
<span data-ttu-id="e9a68-382">releaseNotes</span><span class="sxs-lookup"><span data-stu-id="e9a68-382">releaseNotes</span></span>            | <span data-ttu-id="e9a68-383">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-383">string</span></span>                     | <span data-ttu-id="e9a68-384">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-384">no</span></span>       |
<span data-ttu-id="e9a68-385">requireLicenseAgreement</span><span class="sxs-lookup"><span data-stu-id="e9a68-385">requireLicenseAgreement</span></span> | <span data-ttu-id="e9a68-386">boolean</span><span class="sxs-lookup"><span data-stu-id="e9a68-386">boolean</span></span>                    | <span data-ttu-id="e9a68-387">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-387">no</span></span>       | <span data-ttu-id="e9a68-388">想定`false`除外されている場合</span><span class="sxs-lookup"><span data-stu-id="e9a68-388">Assume `false` if excluded</span></span>
<span data-ttu-id="e9a68-389">summary</span><span class="sxs-lookup"><span data-stu-id="e9a68-389">summary</span></span>                 | <span data-ttu-id="e9a68-390">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-390">string</span></span>                     | <span data-ttu-id="e9a68-391">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-391">no</span></span>       |
<span data-ttu-id="e9a68-392">tags</span><span class="sxs-lookup"><span data-stu-id="e9a68-392">tags</span></span>                    | <span data-ttu-id="e9a68-393">文字列の配列</span><span class="sxs-lookup"><span data-stu-id="e9a68-393">array of strings</span></span>           | <span data-ttu-id="e9a68-394">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-394">no</span></span>       |
<span data-ttu-id="e9a68-395">title</span><span class="sxs-lookup"><span data-stu-id="e9a68-395">title</span></span>                   | <span data-ttu-id="e9a68-396">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-396">string</span></span>                     | <span data-ttu-id="e9a68-397">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-397">no</span></span>       |
<span data-ttu-id="e9a68-398">verbatimVersion</span><span class="sxs-lookup"><span data-stu-id="e9a68-398">verbatimVersion</span></span>         | <span data-ttu-id="e9a68-399">string</span><span class="sxs-lookup"><span data-stu-id="e9a68-399">string</span></span>                     | <span data-ttu-id="e9a68-400">Ｘ</span><span class="sxs-lookup"><span data-stu-id="e9a68-400">no</span></span>       | <span data-ttu-id="e9a68-401">バージョン文字列が、.nuspec で見つかった最初</span><span class="sxs-lookup"><span data-stu-id="e9a68-401">The version string as it's originally found in the .nuspec</span></span>

<span data-ttu-id="e9a68-402">パッケージ`version`プロパティでは、完全なバージョン文字列を正規化後。</span><span class="sxs-lookup"><span data-stu-id="e9a68-402">The package `version` property is the full version string after normalization.</span></span> <span data-ttu-id="e9a68-403">意味 SemVer 2.0.0 ビルド データは含まれていますここでします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-403">This means that SemVer 2.0.0 build data can be included here.</span></span>

<span data-ttu-id="e9a68-404">`created`タイムスタンプは、パッケージは、まずカタログ アイテムのコミット タイムスタンプより前に、の短い形式の時刻は、通常、パッケージ ソースによって受信されたときにします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-404">The `created` timestamp is when the package was first received by the package source, which is typically a short time before the catalog item's commit timestamp.</span></span>

<span data-ttu-id="e9a68-405">`packageHashAlgorithm`生成するために使用されるハッシュ アルゴリズムを表す、サーバーの実装によって定義された文字列には、`packageHash`します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-405">The `packageHashAlgorithm` is a string defined by the server implementation representing the hashing algorithm used to produce the `packageHash`.</span></span> <span data-ttu-id="e9a68-406">nuget.org が常に使用される、 `packageHashAlgorithm` @property `SHA512`。</span><span class="sxs-lookup"><span data-stu-id="e9a68-406">nuget.org always used the `packageHashAlgorithm` value of `SHA512`.</span></span>

<span data-ttu-id="e9a68-407">`published`タイムスタンプは、パッケージが最後に示されている時点。</span><span class="sxs-lookup"><span data-stu-id="e9a68-407">The `published` timestamp is the time when the package was last listed.</span></span>

> [!Note]
> <span data-ttu-id="e9a68-408">Nuget.org で、`published`値が、パッケージが一覧表示されている場合 1900 年に設定します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-408">On nuget.org, the `published` value is set to the year 1900 when the package is unlisted.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="e9a68-409">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-409">Sample request</span></span>

<span data-ttu-id="e9a68-410">取得 https://api.nuget.org/v3/catalog0/data/2015.02.01.11.18.40/windowsazure.storage.1.0.0.json</span><span class="sxs-lookup"><span data-stu-id="e9a68-410">GET https://api.nuget.org/v3/catalog0/data/2015.02.01.11.18.40/windowsazure.storage.1.0.0.json</span></span>

#### <a name="sample-response"></a><span data-ttu-id="e9a68-411">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-411">Sample response</span></span>

[!code-JSON [catalog-package-details.json](./_data/catalog-package-details.json)]

### <a name="package-delete-catalog-items"></a><span data-ttu-id="e9a68-412">パッケージ カタログ アイテムの削除</span><span class="sxs-lookup"><span data-stu-id="e9a68-412">Package delete catalog items</span></span>

<span data-ttu-id="e9a68-413">型を持つ項目をカタログ`PackageDelete`ことを示すカタログ クライアントにパッケージがパッケージ ソースから削除されましたが、パッケージの操作 (復元) などの使用できなくする情報の最小限のセットが含まれます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-413">Catalog items with the type `PackageDelete` contain a minimal set of information indicating to catalog clients that a package has been deleted from the package source and is no longer available for any package operation (such as restore).</span></span>

> [!NOTE]
> <span data-ttu-id="e9a68-414">パッケージを削除して、同じパッケージ ID とバージョンを使用して後で再公開を可能になります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-414">It is possible for a package to be deleted and later republished using the same package ID and version.</span></span> <span data-ttu-id="e9a68-415">Nuget.org には、これは非常にまれなケース中断されるので、公式のクライアントの前提がパッケージ ID とバージョンが特定のパッケージ コンテンツを意味します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-415">On nuget.org, this is a very rare case as it breaks the official client's assumption that a package ID and version imply a specific package content.</span></span> <span data-ttu-id="e9a68-416">Nuget.org でパッケージの削除に関する詳細については、次を参照してください。 [、弊社のポリシー](../nuget-org/policies/deleting-packages.md)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-416">For more information about package deletion on nuget.org, see [our policy](../nuget-org/policies/deleting-packages.md).</span></span>

<span data-ttu-id="e9a68-417">パッケージ カタログ アイテムの削除にものに加えて追加のプロパティがあるない[すべてのカタログ リーフに含まれている](#catalog-leaf)します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-417">Package delete catalog items have no additional properties in addition to those [included on all catalog leaves](#catalog-leaf).</span></span>

<span data-ttu-id="e9a68-418">`version`プロパティは、パッケージの .nuspec 内にある元のバージョン文字列。</span><span class="sxs-lookup"><span data-stu-id="e9a68-418">The `version` property is the original version string found in the package .nuspec.</span></span>

<span data-ttu-id="e9a68-419">`published`プロパティは、通常は、カタログ アイテムのコミット タイムスタンプより前に、の短い形式の時刻としてパッケージが削除された時間。</span><span class="sxs-lookup"><span data-stu-id="e9a68-419">The `published` property is the time when package was deleted, which is typically as short time before the catalog item's commit timestamp.</span></span>

#### <a name="sample-request"></a><span data-ttu-id="e9a68-420">要求のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-420">Sample request</span></span>

<span data-ttu-id="e9a68-421">取得 https://api.nuget.org/v3/catalog0/data/2017.11.02.00.40.00/netstandard1.4_lib.1.0.0-test.json</span><span class="sxs-lookup"><span data-stu-id="e9a68-421">GET https://api.nuget.org/v3/catalog0/data/2017.11.02.00.40.00/netstandard1.4_lib.1.0.0-test.json</span></span>

#### <a name="sample-response"></a><span data-ttu-id="e9a68-422">応答のサンプル</span><span class="sxs-lookup"><span data-stu-id="e9a68-422">Sample response</span></span>

[!code-JSON [catalog-package-delete.json](./_data/catalog-package-delete.json)]

## <a name="cursor"></a><span data-ttu-id="e9a68-423">カーソル</span><span class="sxs-lookup"><span data-stu-id="e9a68-423">Cursor</span></span>

### <a name="overview"></a><span data-ttu-id="e9a68-424">概要</span><span class="sxs-lookup"><span data-stu-id="e9a68-424">Overview</span></span>

<span data-ttu-id="e9a68-425">このセクションは必ずしも必須ではないプロトコルでは、実用的なカタログ クライアント実装の一部にする必要がありますクライアントの概念について説明します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-425">This section describes a client concept that, although is not necessarily mandated by the protocol, should be part of any practical catalog client implementation.</span></span>

<span data-ttu-id="e9a68-426">クライアントを格納する必要があります、カタログは、時間インデックスを追加専用のデータ構造体であるため、**カーソル**まで、どの時点でクライアントを表すが処理されるカタログ アイテムがローカルにします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-426">Because the catalog is an append-only data structure indexed by time, the client should store a **cursor** locally, representing up to what point in time the client has processed catalog items.</span></span> <span data-ttu-id="e9a68-427">このカーソル値を生成しないこと、クライアントのマシンのクロックを使用してに注意してください。</span><span class="sxs-lookup"><span data-stu-id="e9a68-427">Note that this cursor value should never be generated using the client's machine clock.</span></span> <span data-ttu-id="e9a68-428">代わりに、値の元のカタログ オブジェクトの`commitTimestamp`値。</span><span class="sxs-lookup"><span data-stu-id="e9a68-428">Instead, the value should come from a catalog object's `commitTimestamp` value.</span></span>

<span data-ttu-id="e9a68-429">たびに、クライアントがパッケージ ソースの新しいイベントを処理しようとすると、その必要がありますカタログのクエリのみ、コミット タイムスタンプのすべてのカタログ アイテムのストアド カーソルより大きい。</span><span class="sxs-lookup"><span data-stu-id="e9a68-429">Every time the client wants to process new events on the package source, it need only query the catalog for all catalog items with a commit timestamp greater than its stored cursor.</span></span> <span data-ttu-id="e9a68-430">クライアントでは、すべての新しいカタログ項目が正常に処理、後に新しいカーソル値としてだけ処理されたカタログ項目の最新のコミット タイムスタンプを記録します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-430">After the client successfully processes all new catalog items, it records the latest commit timestamp of catalog items just processed as its new cursor value.</span></span>

<span data-ttu-id="e9a68-431">このアプローチを使用して、クライアントはパッケージ ソースで発生したすべてのパッケージ イベントを見逃すことはありませんを確認できます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-431">Using this approach, the client can be sure to never miss any package events that occurred on the package source.</span></span>
<span data-ttu-id="e9a68-432">さらに、クライアント カーソルの記録されたコミット タイムスタンプより前の古いイベントを再処理する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="e9a68-432">Additionally, the client never has to reprocess old events prior to the cursor's recorded commit timestamp.</span></span>

<span data-ttu-id="e9a68-433">このカーソルの強力な概念は、nuget.org のバック グラウンド ジョブの多くは使用され、V3 API 自体の最新の状態を維持するために使用します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-433">This powerful concept of cursors is used for many of nuget.org background jobs and is used to keep the V3 API itself up-to-date.</span></span> 

### <a name="initial-value"></a><span data-ttu-id="e9a68-434">初期値</span><span class="sxs-lookup"><span data-stu-id="e9a68-434">Initial value</span></span>

<span data-ttu-id="e9a68-435">カタログのクライアントが初めての開始 (とカーソル値を持たない) の既定のカーソル値を使用してください。NET の`System.DateTimeOffset.MinValue`または表現可能な最小のタイムスタンプのような類似概念です。</span><span class="sxs-lookup"><span data-stu-id="e9a68-435">When the catalog client is starting for the very first time (and therefore has no cursor value), it should use a default cursor value of .NET's `System.DateTimeOffset.MinValue` or some such analogous notion of minimum representable timestamp.</span></span>

### <a name="iterating-over-catalog-items"></a><span data-ttu-id="e9a68-436">カタログ アイテムを反復処理します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-436">Iterating over catalog items</span></span>

<span data-ttu-id="e9a68-437">次の一連のカタログ項目の処理のクエリをクライアントが必要です。</span><span class="sxs-lookup"><span data-stu-id="e9a68-437">To query for the next set of catalog items to process, the client should:</span></span>

1. <span data-ttu-id="e9a68-438">ローカル ストアからは、カーソルの記録された値を取得します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-438">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="e9a68-439">ダウンロードして、カタログ インデックスを逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-439">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="e9a68-440">すべてのカタログ、コミット タイムスタンプのページ検索*より大きい*カーソル。</span><span class="sxs-lookup"><span data-stu-id="e9a68-440">Find all catalog pages with a commit timestamp *greater than* the cursor.</span></span>
1. <span data-ttu-id="e9a68-441">カタログ項目の処理の空のリストを宣言します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-441">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="e9a68-442">カタログ ページごとに手順 3. で一致します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-442">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="e9a68-443">ダウンロードして、カタログ ページを逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-443">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="e9a68-444">すべてのカタログ項目、コミット タイムスタンプ検索*より大きい*カーソル。</span><span class="sxs-lookup"><span data-stu-id="e9a68-444">Find all catalog items with a commit timestamp *greater than* the cursor.</span></span>
   1. <span data-ttu-id="e9a68-445">手順 4 で宣言されているリストに一致するすべてのカタログ項目を追加します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-445">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="e9a68-446">コミット タイムスタンプによってカタログ項目のリストを並べ替えます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-446">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="e9a68-447">シーケンス内の各カタログ アイテムを処理します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-447">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="e9a68-448">ダウンロードして、カタログ項目を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-448">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="e9a68-449">カタログ項目の種類に適切に対処します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-449">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="e9a68-450">特定のクライアントの方式でカタログ アイテムのドキュメントを処理します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-450">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="e9a68-451">新しいカーソル値として、前回のカタログ項目のコミット タイムスタンプを記録します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-451">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="e9a68-452">この基本的なアルゴリズムでは、クライアントの実装は、パッケージ ソースで使用可能なすべてのパッケージの完全なビューを構築できます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-452">With this basic algorithm, the client implementation can build up a complete view of all packages available on the package source.</span></span> <span data-ttu-id="e9a68-453">クライアントには、このアルゴリズムのパッケージ ソースを最新の変更を把握しておくには、定期的な実行のみ必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-453">The client need only execute this algorithm periodically to always be aware of the latest changes to the package source.</span></span>

> [!Note]
> <span data-ttu-id="e9a68-454">これは、アルゴリズムを使用して、nuget.org、[パッケージ メタデータ](registration-base-url-resource.md)、[パッケージ コンテンツの](package-base-address-resource.md)、[検索](search-query-service-resource.md)と[オートコンプリート](search-autocomplete-service-resource.md)リソースが最新の状態。</span><span class="sxs-lookup"><span data-stu-id="e9a68-454">This is the algorithm that nuget.org uses to keep the [Package Metadata](registration-base-url-resource.md), [Package Content](package-base-address-resource.md), [Search](search-query-service-resource.md) and [Autocomplete](search-autocomplete-service-resource.md) resources up to date.</span></span>

### <a name="dependent-cursors"></a><span data-ttu-id="e9a68-455">依存カーソル</span><span class="sxs-lookup"><span data-stu-id="e9a68-455">Dependent cursors</span></span>

<span data-ttu-id="e9a68-456">1 つのクライアントからの出力を別のクライアントの出力に依存する場所に固有の依存関係を持つ 2 つのカタログ クライアントがあるとします。</span><span class="sxs-lookup"><span data-stu-id="e9a68-456">Suppose there are two catalog clients that have an inherent dependency where one client's output depends on another client's output.</span></span> 

#### <a name="example"></a><span data-ttu-id="e9a68-457">例</span><span class="sxs-lookup"><span data-stu-id="e9a68-457">Example</span></span>

<span data-ttu-id="e9a68-458">たとえば、nuget.org で新たに発行されたパッケージする必要がありますに表示されません検索リソース パッケージ メタデータ リソースに表示される前に。</span><span class="sxs-lookup"><span data-stu-id="e9a68-458">For example, on nuget.org a newly published package should not appear in the search resource before it appears in the package metadata resource.</span></span> <span data-ttu-id="e9a68-459">これは、公式の NuGet クライアントによって実行される「復元」操作は、パッケージ メタデータ リソースを使用するためです。</span><span class="sxs-lookup"><span data-stu-id="e9a68-459">This is because the "restore" operation performed by the official NuGet client uses the package metadata resource.</span></span> <span data-ttu-id="e9a68-460">顧客は、search サービスを使用してパッケージを検出、パッケージ メタデータ リソースを使用してそのパッケージを正常に復元できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-460">If a customer discovers a package using the search service, they should be able to successfully restore that package using the package metadata resource.</span></span> <span data-ttu-id="e9a68-461">つまり、検索のリソースは、パッケージ メタデータ リソースに依存します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-461">In other words, the search resource depends on the package metadata resource.</span></span> <span data-ttu-id="e9a68-462">各リソースでは、そのリソースの更新カタログ クライアント バック グラウンド ジョブがあります。</span><span class="sxs-lookup"><span data-stu-id="e9a68-462">Each resource has a catalog client background job updating that resource.</span></span> <span data-ttu-id="e9a68-463">各クライアントには独自のカーソル。</span><span class="sxs-lookup"><span data-stu-id="e9a68-463">Each client has its own cursor.</span></span>

<span data-ttu-id="e9a68-464">両方のリソースが、カタログの検索のリソースを更新するカタログ クライアント カーソルから構築されているため*を超えて移動する必要がありますいない*のパッケージのメタデータ カタログ クライアント カーソル。</span><span class="sxs-lookup"><span data-stu-id="e9a68-464">Since both resources are built off of the catalog, the cursor of the catalog client that updates the search resource *must not go beyond* the cursor of the package metadata catalog client.</span></span>

#### <a name="algorithm"></a><span data-ttu-id="e9a68-465">アルゴリズム</span><span class="sxs-lookup"><span data-stu-id="e9a68-465">Algorithm</span></span>

<span data-ttu-id="e9a68-466">この制限を実装するために単純にするのには、上のアルゴリズムを変更します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-466">To implement this restriction, simply modify the algorithm above to be:</span></span>

1. <span data-ttu-id="e9a68-467">ローカル ストアからは、カーソルの記録された値を取得します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-467">Fetch the recorded cursor value from a local store.</span></span>
1. <span data-ttu-id="e9a68-468">ダウンロードして、カタログ インデックスを逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-468">Download and deserialize the catalog index.</span></span>
1. <span data-ttu-id="e9a68-469">すべてのカタログ、コミット タイムスタンプのページ検索*より大きい*カーソル**以下、依存関係のカーソル。**</span><span class="sxs-lookup"><span data-stu-id="e9a68-469">Find all catalog pages with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
1. <span data-ttu-id="e9a68-470">カタログ項目の処理の空のリストを宣言します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-470">Declare an empty list of catalog items to process.</span></span>
1. <span data-ttu-id="e9a68-471">カタログ ページごとに手順 3. で一致します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-471">For each catalog page matched in step 3:</span></span>
   1. <span data-ttu-id="e9a68-472">ダウンロードして、カタログ ページを逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-472">Download and deserialized the catalog page.</span></span>
   1. <span data-ttu-id="e9a68-473">すべてのカタログ項目、コミット タイムスタンプ検索*より大きい*カーソル**以下、依存関係のカーソル。**</span><span class="sxs-lookup"><span data-stu-id="e9a68-473">Find all catalog items with a commit timestamp *greater than* the cursor **less than or equal to the dependency's cursor.**</span></span>
   1. <span data-ttu-id="e9a68-474">手順 4 で宣言されているリストに一致するすべてのカタログ項目を追加します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-474">Add all matching catalog items to the list declared in step 4.</span></span>
1. <span data-ttu-id="e9a68-475">コミット タイムスタンプによってカタログ項目のリストを並べ替えます。</span><span class="sxs-lookup"><span data-stu-id="e9a68-475">Sort the catalog item list by commit timestamp.</span></span>
1. <span data-ttu-id="e9a68-476">シーケンス内の各カタログ アイテムを処理します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-476">Process each catalog item in sequence:</span></span>
   1. <span data-ttu-id="e9a68-477">ダウンロードして、カタログ項目を逆シリアル化します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-477">Download and deserialize the catalog item.</span></span>
   1. <span data-ttu-id="e9a68-478">カタログ項目の種類に適切に対処します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-478">React appropriately to the catalog item's type.</span></span>
   1. <span data-ttu-id="e9a68-479">特定のクライアントの方式でカタログ アイテムのドキュメントを処理します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-479">Process the catalog item document in a client-specific fashion.</span></span>
1. <span data-ttu-id="e9a68-480">新しいカーソル値として、前回のカタログ項目のコミット タイムスタンプを記録します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-480">Record the last catalog item's commit timestamp as the new cursor value.</span></span>

<span data-ttu-id="e9a68-481">この変更されたアルゴリズムを使用するシステムを構築できます依存カタログ クライアントの独自の特定のインデックス、成果物などをすべて生成します。</span><span class="sxs-lookup"><span data-stu-id="e9a68-481">Using this modified algorithm, you can build a system of dependent catalog clients all producing their own specific indexes, artifacts, etc.</span></span>
