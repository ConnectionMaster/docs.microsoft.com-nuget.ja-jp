---
title: NuGet パッケージの検索と選択
description: NuGet 検索構文の詳細を含む、プロジェクトに最適な NuGet パッケージを検索して選択する方法の概要。
author: karann-msft
ms.author: karann
ms.date: 06/04/2018
ms.topic: conceptual
ms.openlocfilehash: feb21ae1e70144491a5c0fe8f6a7be36e61d9b32
ms.sourcegitcommit: cbc87fe51330cdd3eacaad3e8656eb4258882fc7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/19/2020
ms.locfileid: "88622988"
---
# <a name="finding-and-evaluating-nuget-packages-for-your-project"></a>プロジェクトの NuGet パッケージの検索と評価

任意の .NET プロジェクトを開始する場合や、ご利用のアプリまたはサービスの機能上のニーズを特定する場合は常に、そのニーズを満たす既存の NuGet パッケージを使用することで時間と手間を大幅に省くことができます。 これらのパッケージは、[nuget.org](https://www.nuget.org/packages/) のパブリック コレクション、または組織あるいは別のサードパーティによって提供されるプライベート ソースから取得できます。

## <a name="finding-packages"></a>パッケージの検索

nuget.org にアクセスしたとき、または Visual Studio でパッケージ マネージャー UI を開いたときに、関連性で並べ替えられたパッケージのリストが表示されます。 その際に、すべての .NET プロジェクト間で最も広く使用されているパッケージが示されます。 これらのパッケージの一部は、プロジェクトによっては役に立つ可能性があります。

![最もよく利用されているパッケージを示す uget.org/パッケージの既定ビュー](media/Finding-01-Popularity.png)

nuget.org で、ページの右上にある **[Filter]** ボタンに注目してください。 クリックすると、拡張検索パネルが展開され、並べ替えとフィルター処理のオプションが表示されます。

![nuget.org での 'json' の検索結果](media/Finding-02-SearchResults.png)

**[Package type]** フィルターを使用して、特定の種類のパッケージを表示できます。
- **`All types`** :これが既定の動作です。 種類に関係なく、すべてのパッケージが表示されます。
- **`Dependency`** :プロジェクトにインストールできる通常の NuGet パッケージ。
- **`.NET tool`** :コンソール アプリケーションを含む NuGet パッケージである [.NET ツール](/dotnet/core/tools/global-tools)にフィルター処理されます。
- **`Template`** :[`dotnet new`](/dotnet/core/tools/dotnet-new) コマンドを使用して新しいプロジェクトを作成するために使用できる [.NET テンプレート](/dotnet/core/install/templates)にフィルター処理されます。

**[Sort by]** オプションを使用して、検索結果を並べ替えることができます。
- **`Relevance`** :これが既定の動作です。 内部のスコアリング アルゴリズムに従って結果を並べ替えます。
- **`Downloads`** :検索結果を、合計ダウンロード数で降順に並べ替えます。
- **`Recently updated`** :検索結果を最新のバージョンの作成日で降順に並べ替えます。

**[Options]** セクションに、[ **`Include prerelease`** ] チェックボックスがあります。
これが選択されている場合、nuget.org にはプレリリースを含むすべてのバージョンのパッケージが表示されます。 安定バージョンのみを表示するには、このオプションをオフにします。

検索フィルターを適用するには、[ **`Apply`** ] ボタンをクリックします。 [ **`Reset`** ] ボタンをクリックすることで、いつでも既定の動作に戻すことができます。

[検索構文](#search-syntax)を使用して、タグ、所有者、およびパッケージ ID をフィルター処理することもできます。

### <a name="does-the-package-support-my-projects-target-framework"></a>パッケージでプロジェクトのターゲット フレームワークはサポートされますか?

NuGet でパッケージがプロジェクトにインストールされるのは、そのパッケージのサポートされているフレームワークにプロジェクトのターゲット フレームワークが含まれている場合のみです パッケージに互換性がない場合、NuGet はエラーを表示します。

サポートされているフレームワークが nuget.org ギャラリーに直接リストされるパッケージもありますが、そのようなデータは必要でないため、多くのパッケージにはそのリストは含まれません。 現時点では、特定のターゲット フレームワークをサポートするパッケージを nuget.org で検索する手段はありません (この機能は検討中です。[NuGet の問題 2936](https://github.com/NuGet/NuGetGallery/issues/2936) を参照してください)。

幸いにも、以下の別の 2 つの方法でサポートされているフレームワークを判別できます。

1. NuGet パッケージ マネージャー コンソールで [`Install-Package`](../reference/ps-reference/ps-ref-install-package.md) コマンドを使用して、プロジェクトにパッケージをインストールしてみます。 パッケージに互換性がない場合は、このコマンドでパッケージのサポートされているフレームワークが表示されます。

1. **[情報]** の下にある **[手動でダウンロード]** リンクを使用して、nuget.org のページからパッケージをダウンロードします。 拡張子を `.nupkg` から `.zip` に変更し、ファイルを開き、その `lib` フォルダーの内容を調べます。 そこに、サポートされている各フレームワークのサブフォルダーが表示されます。各サブフォルダーには、ターゲット フレームワーク モニカー (TFM。「[ターゲット フレームワーク](../reference/target-frameworks.md)」を参照) を使用して名前が付けられます。 `lib` の下にサブフォルダーがなく、DLL が 1 つだけの場合は、プロジェクトにパッケージをインストールしてみて、その互換性を検出する必要があります。

## <a name="pre-release-packages"></a>プレリリース パッケージ

多くのパッケージの作成者は、継続的に改善を行い、最新リビジョンに対するフィードバックを求めるため、プレビュー リリースとベータ リリースを利用できるようにします。

既定では、nuget.org での検索結果にプレリリース パッケージが表示されます。 安定したリリースのみを検索するには、ページの右上にある **[Filter]** ボタンからアクセスできる拡張検索パネルで **[Include prerelease]** オプションをオフにします。

![nuget.org の [プレリリースを含める] チェックボックス](media/Finding-06-include-prerelease.png)

Visual Studio の場合、また、NuGet CLI および dotnet CLI ツールを使用する場合、既定では NuGet にプレリリース版は含まれません。 この動作を変更するには、次の手順を実行します。

- **Visual Studio のパッケージ マネージャー UI**: **[NuGet パッケージの管理]** UI で、 **[プレリリースを含める]** ボックスを設定します。 このボックスを設定または設定解除するとパッケージ マネージャー UI とインストールできるバージョンのリストが更新されます。

    ![Visual Studio の [プレリリースを含める] チェックボックス](media/Prerelease_02-CheckPrerelease.png)

- **パッケージ マネージャー コンソール**: `Find-Package`、`Get-Package`、`Install-Package`、`Sync-Package`、`Update-Package` コマンドで `-IncludePrerelease` スイッチを使用します。 「[PowerShell Reference](../reference/powershell-reference.md)」 (PowerShell リファレンス) を参照してください。

- **nuget.exe CLI**: `install`、`update`、`delete`、`mirror` コマンドで `-prerelease` スイッチを使用します。 「[NuGet CLI reference](../reference/nuget-exe-cli-reference.md)」(NuGet CLI リファレンス) を参照してください。

- **dotnet.exe CLI**: `-v` 引数を使用して、正確なプレリリース バージョンを指定します。 「[dotnet add package](/dotnet/core/tools/dotnet-add-package)」を参照してください。

<a name="native-cpp-packages"></a>

### <a name="native-c-packages"></a>ネイティブ C++ パッケージ

NuGet では、Visual Studio の C++ プロジェクトで使用できるネイティブ C++ パッケージがサポートされます。 これにより、プロジェクトの **[NuGet パッケージの管理]** コンテキスト メニュー コマンドが有効になり、`native` ターゲット フレームワークが導入され、MSBuild 統合が提供されます。

[nuget.org](https://www.nuget.org/packages) でネイティブ パッケージを見つけるには、`tag:native` を使用して検索します。 通常、このようなパッケージでは `.targets` ファイルと `.props` ファイルが提供されます。これらのファイルは、パッケージがプロジェクトに追加されると、NuGet で自動的にインポートされます。

## <a name="evaluating-packages"></a>パッケージの評価

パッケージの有用性を評価する最適な方法は、該当のパッケージをダウンロードし、自分のコードで試行してみることです (なお、nuget.org のすべてのパッケージでは、定期的にウィルスをスキャンしています)。 結局、人気の高いパッケージはどれも最初はごく少数の開発者のみが使用するため、あなたは早期導入者の 1 人である可能性があります 

同時に、NuGet パッケージを使用するということはそれに依存することを意味するため、堅牢で信頼性が高いことを確認する必要があります。 パッケージをインストールして直接テストするには時間がかかるため、パッケージのリスト ページの情報を使用して、パッケージの品質について多くを学習することもできます。

- **ダウンロード統計**: nuget.org のパッケージ ページにある **[統計]** セクションには、総ダウンロード数、最新版のダウンロード数、および 1 日あたりの平均ダウンロード数が表示されます。 大きい数は他の多くの開発者がパッケージに依存していることを示しており、その能力が実証されたことを意味します。

    ![パッケージのリスト ページのダウンロード統計](media/Finding-03-Downloads.png)

- **使用者**: パッケージ ページの **[使用者]** セクションには、このパッケージに依存する上位 5 つの最も人気のある NuGet.org パッケージと人気のある GitHub リポジトリが一覧表示されます。 このパッケージに依存するパッケージとリポジトリは、このパッケージの "依存" と呼ぶことができます。 依存のパッケージとリポジトリは、パッケージ作成者が信頼して依存することを選択したため、このパッケージの "推奨" と見なすことができます。
  - 依存パッケージは、このパッケージの "*最新の安定バージョン*" の "*任意のバージョン*" に依存している必要があります。 この定義により、表示される依存パッケージは、このパッケージを信頼し、依存するかどうかに関するパッケージ作成者の決定を反映した最新のものになります。 プレリリースの依存は、まだ真の推奨とは見なされないため、一覧には表示されません。 例については、次の表を参照してください。

    | パッケージ A のバージョン | パッケージ A はパッケージ B の依存として表示されるか |
    |-|-|
    | v1.0.0<br>v 1.1.0 (最新の安定バージョン) --> パッケージ B<br>v1.2.0-preview | TRUE、最新の安定バージョンはパッケージ B に依存します |
    | v1.0.0 --> パッケージ B<br>v 1.1.0 (最新の安定バージョン)<br>v1.2.0-preview | FALSE、最新の安定バージョンはパッケージ B に依存しません |
    | v1.0.0 --> パッケージ B<br>v 1.1.0 (最新の安定バージョン)<br>v1.2.0-preview --> パッケージ B | FALSE、最新の安定バージョンはパッケージ B に依存しません |

  - GitHub リポジトリの星の数は、通常、そのリポジトリが GitHub ユーザーにどの程度広く普及しているかを示しています (星の数が多いほど広く普及しています)。 GitHub の星とリポジトリのランク付けシステムの詳細については、[GitHub の概要ページ](https://help.github.com/en/github/getting-started-with-github/saving-repositories-with-stars#about-stars)を参照してください。

    ![使用者](media/Used-By-section-Humanizer.png)

    > [!Note]
    > パッケージの [使用者] セクションは、個々のリポジトリを人間が確認することなく、定期的かつ自動的に生成されます。また、NuGet.org パッケージと、パッケージに依存する人気のある GitHub リポジトリを表示するために、情報提供のみを目的としています。

- **バージョン履歴**: パッケージ ページの **[情報]** で最新の更新日を見つけて、 **[バージョン履歴]** を確認します。 適切に保守されているパッケージの場合、最新の更新情報と豊かなバージョン履歴が表示されます。 放置されたパッケージの場合、更新情報は少なく、しばらくの間更新されていないことがほとんどです。

    ![パッケージのリスト ページの [バージョン履歴]](media/Finding-04-VersionHistory.png)

- **最近のインストール**: パッケージ ページの **[統計]** で、 **[View full stats]\(完全な統計を表示\)** を選択します。完全な統計のページには、バージョン番号ごとに過去 6 週間のパッケージのインストール数が表示されます。 他の開発者が積極的に使用しているパッケージを選択することをお勧めします。

- **サポート**: パッケージ ページの **[情報]** で、 **[プロジェクト サイト]** (使用可能な場合) を選択すると、作成者が提供しているサポート オプションが表示されます。 専用サイトを持つプロジェクトは、一般的に、よりよくサポートされています。

- **開発者履歴**: パッケージ ページの **[所有者]** で、所有者を選択すると、発行済みの他のパッケージが表示されます。 複数のパッケージがある場合、今後も継続的に作業がサポートされる可能性が高くなります。

- **オープン ソース コントリビューション**: 多くのパッケージはオープン ソース リポジトリに保持されます。これにより、パッケージに依存する開発者は、直接バグの修正と機能の向上に貢献できます。 また、任意のパッケージのコントリビューション履歴を見れば、どれだけ多くの開発者が積極的に関与しているかがよくわかります。

- **所有者へのインタビュー**: 新しい開発者は確実に、あなたが使用する優れたパッケージを生成することに同等にコミットできます。NuGet エコシステムに新しい何かをもたらすよい機会となります。 この点を考慮して、リスト ページの **[情報]** にある **[Contact Owners]\(所有者に問い合わせる\)** オプションを介してパッケージ開発者に直接連絡します。 おそらく、所有者はあなたのニーズに応えるために喜んで協力してくれることでしょう。

- **予約されているパッケージ ID プレフィックス**: 多くのパッケージ所有者が[パッケージ ID プレフィックスの予約](../nuget-org/id-prefix-reservation.md)を申請し、与えられています。 [nuget.org](https://www.nuget.org/) または Visual Studio でパッケージ ID の隣にチェックマークが表示されている場合、それはパッケージ所有者が ID プレフィックス予約に関する Microsoft の[条件](../nuget-org/id-prefix-reservation.md#id-prefix-reservation-criteria)を満たしていることを意味します。 パッケージ所有者は、自身とパッケージの同一性確認に成功しています。

> [!Note]
> 常にパッケージのライセンス条項に留意してください。これは、nuget.org のパッケージのリスト ページにある **[ライセンス情報]** を選択することで確認できます。パッケージでライセンス条項が指定されていない場合は、パッケージ ページの **[Contact owners]\(所有者に問い合わせる\)** リンクを使用して、パッケージ所有者に直接問い合わせてください。 Microsoft はサードパーティのパッケージ プロバイダーを通じてユーザーに知的財産ライセンスを付与することはありません。また、サードパーティによって提供される情報について責任を負いません。

## <a name="license-url-deprecation"></a>ライセンス URL の非推奨
[licenseUrl](../reference/nuspec.md#licenseurl) から [license](../reference/nuspec.md#license) への移行に従い、一部の NuGet クライアントや NuGet フィードでは、場合によってはまだライセンス情報を表示できない可能性があります。 下位互換性を維持するために、ライセンス URL の指定先は、このような場合にライセンス情報を取得する方法について説明しているこのドキュメントとなります。

パッケージのライセンス URL をクリックしてこのページに移動してきた場合、そのパッケージにはライセンス ファイルが含まれていて、また次が該当します。
* 新しいライセンス情報を解釈してクライアントに表示する方法をまだ把握していないフィードに接続している、**または**
* フィードによって提供される可能性のある新しいライセンス情報を解釈して読み取る方法をまだ把握していないクライアントを使用している、**または**
* 両方の組み合わせ

パッケージ内のライセンス ファイルに含まれている情報を読み取る方法は次のとおりです。
1. NuGet パッケージをダウンロードし、その内容をフォルダーに解凍します。
1. そのフォルダーのルートにある `.nuspec` ファイルを開きます。
1. これは `<license type="file">license\license.txt</license>` のようなタグを含んでいます。 これは、ライセンス ファイルが `license.txt` と名付けられ、同様にそのフォルダーのルートにある `license` というフォルダー内にあることを意味しています。
1. `license` フォルダーに移動して `license.txt` ファイルを開きます。

`.nuspec` でライセンスを設定することと同じことを MSBuild で行う方法については、「[ライセンス式またはライセンスファイルのパッキング](../reference/msbuild-targets.md#packing-a-license-expression-or-a-license-file)」を参照してください。

## <a name="search-syntax"></a>検索構文

NuGet パッケージ検索は、nuget.org、NuGet CLI、Visual Studio の NuGet パッケージ マネージャー拡張機能で同じように動作します。 一般に、検索はキーワードとパッケージの説明に適用されます。

- **フィルタリング**: 構文 `<property>:<term>` (この `<property>` (大文字と小文字を区別しない) に `id`、`packageid`、`version`、`title`、`tags`、`author`、`description`、`summary`、`owner` を指定することができます) を使用して、特定のプロパティに検索用語を適用することができます。 複数のプロパティを同時に検索することができます。 `id` プロパティの検索が部分文字列一致であるのに対して、`packageid` および `owner` では大文字と小文字を区別しない完全一致が使用されます。 例:

```
PackageId:jquery             # Match the package ID in an exact, case-insensitive manner

owner:microsoft              # Match the owner in an exact, case-insensitive manner

id:NuGet.Core                # Match any part of the ID property
Id:"Nuget.Core"
ID:jQuery
id:jquery id:ui              # Search for multiple terms in the ID
id:jquery tags:validation    # Search multiple properties

invalid:jquery ui            # Unsupported properties are ignored, so this
                             # is the same as searching on ui
```
